{"version":3,"sources":["Endpoint.js","components/ManajemenPo/Bus/ListBus.js","components/ManajemenPo/Bus/BusKosong.js","components/ManajemenPo/Bus/Bus.js"],"names":["token","localStorage","getItem","instance","axios","create","baseURL","headers","ListBus","props","OptionPo","x","value","idPo","label","nama","handleChangePo","e","setState","selectedIdPo","state","dataKosong","dataIsi","dataPo","dataBus","this","EndpointPo","API_ENDPOINT","get","then","res","data","target","paramBus","orderBy","pageNo","pageRow","post","content","catch","error","idBus","Swal","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","delete","message","window","location","reload","className","href","style","display","to","marginLeft","name","placeholder","onChange","options","map","type","class","onClick","onClickOption","width","el","index","key","id","hapusBus","Component","BusKosong","Bus"],"mappings":"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","file":"static/js/51.041e70e0.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst token = localStorage.getItem(\"token\")\r\n\r\nconst instance = axios.create({\r\n    // SERVICE DEV\r\n    // baseURL: 'http://52.163.218.136:8282',\r\n\r\n    // SERVICE LIVE\r\n    baseURL: 'http://po.bisku.id:8282',\r\n\r\n    // SERVIVE MNC\r\n    // baseURL: 'http://192.168.1.7:8282',\r\n\r\n    // SERVICE BASEMENT\r\n    // baseURL: 'http://192.168.0.185:8282',\r\n    headers: {\r\n        // \"access-control-allow-origin\" : \"*\",\r\n        'Authorization': \"Bearer \" + token\r\n    }\r\n});\r\n\r\nexport default instance;\r\n","import React, { Component } from 'react'\r\nimport Select from 'react-select'\r\nimport { Link } from 'react-router-dom'\r\nimport Swal from 'sweetalert2'\r\nimport '../../../index.css'\r\nimport BusKosong from './BusKosong'\r\n\r\nimport API_ENDPOINT from '../../../Endpoint'\r\n\r\nexport default class ListBus extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            dataKosong: false,\r\n            dataIsi: false,\r\n            dataPo: [],\r\n            dataBus: [],\r\n            idPo: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.EndpointPo();\r\n    }\r\n\r\n    EndpointPo() {\r\n        API_ENDPOINT.get('/admin/po/getAll')\r\n        .then(res => {\r\n            this.setState({\r\n                dataPo: res.data\r\n            })\r\n        })\r\n    }\r\n\r\n    dropdownChanged(e) {\r\n        this.setState({\r\n            selectedIdPo: e.target.value\r\n        })\r\n    }\r\n\r\n    OptionPo = (x) => {\r\n        return {value: x.idPo, label: x.nama}\r\n    }\r\n\r\n    handleChangePo = (e) => {\r\n        this.setState({selectedIdPo: e.value})\r\n    }\r\n\r\n    onClickOption(selectedIdPo) {\r\n        const paramBus = {\r\n            idPo: selectedIdPo,\r\n            orderBy: 'id',\r\n            pageNo: 0,\r\n            pageRow: 100\r\n        }\r\n\r\n        API_ENDPOINT.post('/admin/bus/list', paramBus)\r\n        .then(res => {\r\n            this.setState({\r\n                dataIsi: true,\r\n                dataBus: res.data.content,\r\n                idPo: selectedIdPo\r\n            })\r\n        })\r\n        .catch(error => {\r\n            this.setState({\r\n                dataKosong: true,\r\n                idPo: selectedIdPo\r\n            })\r\n        })\r\n    }\r\n\r\n    hapusBus(idBus) {\r\n        Swal.fire({\r\n            title: 'Yakin Hapus data?',\r\n            text: \"Data terhapus tidak dapat dikembalikan!\",\r\n            icon: 'warning',\r\n            // customClass: 'swal-modal',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Ya, hapus!'\r\n            }).then((result) => {\r\n            if (result.value) {\r\n                API_ENDPOINT.delete('/admin/bus/' + idBus + '/delete')\r\n                .then(res => {\r\n                    Swal.fire(\r\n                    'Terhapus!',\r\n                    res.data.message,\r\n                    'success'\r\n                    )\r\n                }).then(function() {\r\n                    window.location.reload()\r\n                })\r\n                .catch(error => {\r\n                    Swal.fire(\r\n                        'Error!',\r\n                        'Terjadi Kesalahan',\r\n                        'error'\r\n                    )\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const dataBus = this.props.dataBus\r\n\r\n        if(this.state.dataKosong) {\r\n            return(\r\n                <BusKosong idPo={this.state.idPo} />\r\n            )\r\n        } else if(this.state.dataIsi) {\r\n            return (\r\n                <ListBus dataBus={this.state.dataBus} dataPo={this.state.dataPo} idPo={this.state.idPo} />\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"content-wrapper\">\r\n                <div className=\"content-header\">\r\n                    <div className=\"container-fluid header-fluid\">\r\n                        <div className=\"row mb-2\">\r\n                            <div className=\"col-sm-6\">\r\n                                <ol className=\"breadcrumb float-sm-left\">\r\n                                    <li className=\"breadcrumb-item\"><a href=\"# \"><b>Home</b></a></li>\r\n                                    <li className=\"breadcrumb-item active\"><b>List Bus</b></li>\r\n                                </ol>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <section className=\"content\">\r\n                    <div className=\"container-fluid\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-12\">\r\n                                <div className=\"card\">\r\n                                    <div className=\"card-body\">\r\n                                        <div style={{display:'flex'}}>\r\n                                            <Link className=\"btn btn-primary\" to={\"/manajemenPo/tambahBus\"} style={{marginLeft:'auto'}}>\r\n                                                <i className=\"fa fa-plus\"></i> Tambah Bus\r\n                                            </Link>\r\n                                        </div><br/>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-md-3\">\r\n                                                <Select\r\n                                                    name=\"po\"\r\n                                                    placeholder=\"Pilih P.O\"\r\n                                                    onChange={this.handleChangePo}\r\n                                                    options={this.state.dataPo.map(x => this.OptionPo(x))}\r\n                                                /><br/>\r\n                                                {/* <select class=\"form-control\" value={this.state.selectedIdPo} onChange={this.dropdownChanged.bind(this)} style={{ width: '100%' }}>\r\n                                                    <option disabled selected>Pilih P.O</option>\r\n                                                    {\r\n                                                        this.state.dataPo.map((el) => {\r\n                                                            return (\r\n                                                                <option key={el.idPo} value={el.idPo}>{el.nama}</option>\r\n                                                            )\r\n                                                        })\r\n                                                    }\r\n                                                </select><br /> */}\r\n                                            </div>\r\n                                            <div className=\"col-md-3\">\r\n                                                <button type=\"submit\" class=\"btn btn-primary\" onClick={() => this.onClickOption(this.state.selectedIdPo)}>\r\n                                                    <i className=\"fa fa-search\"></i>\r\n                                                </button><br/><br/>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"table-responsive\">\r\n                                        <table className=\"table table-bordered table-hover text-nowrap\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th className=\"text-center\" style={{ width: '1%' }}>ID</th>\r\n                                                    <th className=\"text-center\" style={{ width: '10%' }}>Produk Bus</th>\r\n                                                    <th className=\"text-center\" style={{ width: '10%' }}>Aksi</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {\r\n                                                    dataBus.map((el, index) => (\r\n                                                        <tr key={el.id}>\r\n                                                            <td className=\"text-center\">{el.idBus}</td>\r\n                                                            <td className=\"text-center\">{el.id}</td>\r\n                                                            <td>\r\n                                                                <div className=\"text-center\">\r\n                                                                    <Link className=\"btn btn-warning\" to={\"/manajemenPo/editBus/\" + el.idBus}>\r\n                                                                        <i className=\"fa fa-pencil-alt\"></i>\r\n                                                                    </Link>&nbsp;&nbsp;&nbsp;\r\n                                                                    <button type=\"button\" className=\"btn btn-danger\" onClick={() => this.hapusBus(el.idBus)}>\r\n                                                                        <i className=\"fa fa-trash\"></i>\r\n                                                                    </button>\r\n                                                                </div>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    ))\r\n                                                }\r\n                                            </tbody>\r\n                                        </table>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Select from 'react-select'\r\nimport { Link } from 'react-router-dom'\r\nimport ListBus from './ListBus'\r\n\r\nimport API_ENDPOINT from '../../../Endpoint'\r\n\r\nexport default class BusKosong extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            dataKosong: false,\r\n            dataIsi: false,\r\n            dataPo: [],\r\n            idPo: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.EndpointPo();\r\n    }\r\n\r\n    EndpointPo() {\r\n        API_ENDPOINT.get('/admin/po/getAll')\r\n        .then(res => {\r\n            this.setState({\r\n                dataPo: res.data\r\n            })\r\n        })\r\n    }\r\n\r\n    dropdownChanged(e) {\r\n        this.setState({\r\n            selectedIdPo: e.target.value\r\n        })\r\n    }\r\n\r\n    OptionPo = (x) => {\r\n        return {value: x.idPo, label: x.nama}\r\n    }\r\n\r\n    handleChangePo = (e) => {\r\n        this.setState({selectedIdPo: e.value})\r\n    }\r\n\r\n    onClickOption(selectedIdPo) {\r\n        const paramBus = {\r\n            idPo: selectedIdPo,\r\n            orderBy: 'id',\r\n            pageNo: 0,\r\n            pageRow: 100\r\n        }\r\n\r\n        API_ENDPOINT.post('/admin/bus/list', paramBus)\r\n        .then(res => {\r\n            this.setState({\r\n                dataIsi: true,\r\n                dataBus: res.data.content,\r\n                idPo: selectedIdPo\r\n            })\r\n        })\r\n        .catch(error => {\r\n            this.setState({\r\n                dataKosong: true,\r\n                idPo: selectedIdPo\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if(this.state.dataKosong) {\r\n            return(\r\n                <BusKosong idPo={this.state.idPo} />\r\n            )\r\n        } else if(this.state.dataIsi) {\r\n            return (\r\n                <ListBus dataBus={this.state.dataBus} dataPo={this.state.dataPo} idPo={this.state.idPo} />\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"content-wrapper\">\r\n                <div className=\"content-header\">\r\n                    <div className=\"container-fluid header-fluid\">\r\n                        <div className=\"row mb-2\">\r\n                            <div className=\"col-sm-6\">\r\n                                <ol className=\"breadcrumb float-sm-left\">\r\n                                    <li className=\"breadcrumb-item\"><a href=\"# \"><b>Home</b></a></li>\r\n                                    <li className=\"breadcrumb-item active\"><b>List Bus</b></li>\r\n                                </ol>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <section className=\"content\">\r\n                    <div className=\"container-fluid\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-12\">\r\n                                <div className=\"card\">\r\n                                    <div className=\"card-body\">\r\n                                        <div style={{display:'flex'}}>\r\n                                            <Link className=\"btn btn-primary\" to={\"/manajemenPo/tambahBus\"} style={{marginLeft:'auto'}}>\r\n                                                <i className=\"fa fa-plus\"></i> Tambah Bus\r\n                                            </Link>\r\n                                        </div><br/>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-md-3\">\r\n                                                <Select\r\n                                                    name=\"po\"\r\n                                                    placeholder=\"Pilih P.O\"\r\n                                                    onChange={this.handleChangePo}\r\n                                                    options={this.state.dataPo.map(x => this.OptionPo(x))}\r\n                                                />\r\n                                                {/* <select class=\"form-control\" value={this.state.selectedIdPo} onChange={this.dropdownChanged.bind(this)} style={{ width: '100%' }}>\r\n                                                    <option disabled selected>Pilih P.O</option>\r\n                                                    {\r\n                                                        this.state.dataPo.map((el) => {\r\n                                                            return (\r\n                                                                <option key={el.idPo} value={el.idPo}>{el.nama}</option>\r\n                                                            )\r\n                                                        })\r\n                                                    }\r\n                                                </select><br /> */}\r\n                                            </div>\r\n                                            <div className=\"col-md-3\">\r\n                                                <button type=\"submit\" class=\"btn btn-primary\" onClick={() => this.onClickOption(this.state.selectedIdPo)}>\r\n                                                    <i className=\"fa fa-search\"></i>\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                        <p><strong>DATA BUS KOSONG</strong></p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Select from 'react-select'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport BusKosong from './BusKosong'\r\nimport ListBus from './ListBus'\r\n\r\nimport API_ENDPOINT from '../../../Endpoint'\r\n\r\nexport default class Bus extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            dataPo: [],\r\n            idPo: '',\r\n            dataIsi: false,\r\n            dataKosong: false\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.EndpointPo();\r\n    }\r\n\r\n    EndpointPo() {\r\n        API_ENDPOINT.get('/admin/po/getAll')\r\n        .then(res => {\r\n            this.setState({\r\n                dataPo: res.data\r\n            })\r\n        })\r\n    }\r\n\r\n    dropdownChanged(e) {\r\n        this.setState({\r\n            selectedIdPo: e.target.value\r\n        }) \r\n    }\r\n\r\n    OptionPo = (x) => {\r\n        return {value: x.idPo, label: x.nama}\r\n    }\r\n\r\n    handleChangePo = (e) => {\r\n        this.setState({selectedIdPo: e.value})\r\n    }\r\n\r\n    onClickOption(selectedIdPo) {\r\n        const paramBus = {\r\n            idPo: selectedIdPo,\r\n            orderBy: 'id',\r\n            pageNo: 0,\r\n            pageRow: 100\r\n        }\r\n\r\n        API_ENDPOINT.post('/admin/bus/list', paramBus)\r\n        .then(res => {\r\n            this.setState({\r\n                dataIsi: true,\r\n                dataBus: res.data.content,\r\n                idPo: selectedIdPo\r\n            })\r\n        })\r\n        .catch(error => {\r\n            this.setState({\r\n                dataKosong: true,\r\n                idPo: selectedIdPo\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if(this.state.dataKosong) {\r\n            return(\r\n                <BusKosong idPo={this.state.idPo} />\r\n            )\r\n        } else if(this.state.dataIsi) {\r\n            return (\r\n                <ListBus dataBus={this.state.dataBus} dataPo={this.state.dataPo} idPo={this.state.idPo} />\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"content-wrapper\">\r\n                    <div className=\"content-header\">\r\n                        <div className=\"container-fluid header-fluid\">\r\n                            <div className=\"row mb-2\">\r\n                                <div className=\"col-sm-6\">\r\n                                    <ol className=\"breadcrumb float-sm-left\">\r\n                                        <li className=\"breadcrumb-item\"><a href=\"# \"><b>Home</b></a></li>\r\n                                        <li className=\"breadcrumb-item active\"><b>Bus</b></li>\r\n                                    </ol>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <section className=\"content\">\r\n                        <div className=\"container-fluid\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-md-12\">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-body\">\r\n                                            <div style={{display:'flex'}}>\r\n                                                <Link className=\"btn btn-primary\" to={\"/manajemenPo/tambahBus\"} style={{marginLeft:'auto'}}>\r\n                                                    <i className=\"fa fa-plus\"></i> Tambah Bus\r\n                                                </Link>\r\n                                            </div><br/>\r\n                                            <div className=\"row\">\r\n                                                <div className=\"col-md-3\">\r\n                                                    <Select\r\n                                                        name=\"po\"\r\n                                                        placeholder=\"Pilih P.O\"\r\n                                                        onChange={this.handleChangePo}\r\n                                                        options={this.state.dataPo.map(x => this.OptionPo(x))}\r\n                                                    /><br/>\r\n                                                    {/* <select class=\"form-control\" value={this.state.selectedIdPo} onChange={this.dropdownChanged.bind(this)} style={{ width: '100%' }}>\r\n                                                        <option disabled selected>Pilih P.O</option>\r\n                                                        {\r\n                                                            this.state.dataPo.map((el) => {\r\n                                                                return (\r\n                                                                    <option key={el.idPo} value={el.idPo}>{el.nama}</option>\r\n                                                                )\r\n                                                            })\r\n                                                        }\r\n                                                    </select><br/> */}\r\n                                                </div>\r\n                                                <div className=\"col-md-3\">\r\n                                                    <button type=\"submit\" class=\"btn btn-primary\" onClick={() => this.onClickOption (this.state.selectedIdPo)}>\r\n                                                        <i className=\"fa fa-search\"></i>\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"],"sourceRoot":""}