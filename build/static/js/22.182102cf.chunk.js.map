{"version":3,"sources":["components/Entitas/Crew/EditCrew.js","Endpoint.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"names":["EditCrew","props","handleChange","e","setState","target","name","value","state","fields","errors","dataPo","this","formIsValid","field","API_ENDPOINT","get","then","res","data","match","params","idCrew","id","nik","type","idPo","EndpointPo","EndpointCrewId","preventDefault","editDataCrew","put","alert","history","push","catch","error","className","href","class","onSubmit","tambahData","bind","style","width","onChange","disabled","selected","map","el","key","nama","Component","token","localStorage","getItem","instance","axios","create","baseURL","headers","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable"],"mappings":"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","file":"static/js/22.182102cf.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport API_ENDPOINT from '../../../Endpoint'\r\n\r\nexport default class EditCrew extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.state = {\r\n            fields: {},\r\n            errors: {},\r\n            dataPo: []\r\n        }\r\n    }\r\n\r\n    handleValidation(){\r\n        let fields = this.state.fields;\r\n        let errors = {};\r\n        let formIsValid = true;\r\n\r\n        // // Validasi po\r\n        // if(!fields[\"idPo\"]){\r\n        //     formIsValid = false;\r\n        //     errors[\"idPo\"] = \"Tidak boleh kosong\";\r\n        // }\r\n\r\n        // Validasi Nama Crew\r\n        if(!fields[\"name\"]){\r\n            formIsValid = false;\r\n            errors[\"name\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        // Validasi Type\r\n        if(!fields[\"type\"]){\r\n            formIsValid = false;\r\n            errors[\"type\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        // Validasi NIK\r\n        if(!fields[\"nik\"]){\r\n            formIsValid = false;\r\n            errors[\"nik\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        this.setState({errors: errors});\r\n        return formIsValid;\r\n        \r\n    }\r\n\r\n    handleChange(field, e){\r\n        let fields = this.state.fields;\r\n        fields[field] = e.target.value;\r\n        this.setState({fields});\r\n    }\r\n\r\n\r\n    EndpointPo() {\r\n        API_ENDPOINT.get('/admin/po/getAll')\r\n        .then(res => {\r\n            this.setState({\r\n                dataPo: res.data\r\n            })\r\n        })\r\n    }\r\n\r\n    EndpointCrewId() {\r\n        API_ENDPOINT.get('/admin/crew/' + this.props.match.params.idCrew)\r\n        .then(res => {\r\n            this.setState({\r\n                id: res.data.id,\r\n                nik: res.data.nik,\r\n                name: res.data.name,\r\n                type: res.data.type,\r\n                idPo: res.data.idPo\r\n            })\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.EndpointPo();\r\n        this.EndpointCrewId();\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    tambahData(e) {\r\n        e.preventDefault();\r\n\r\n        const editDataCrew = {\r\n            id: this.state.id,\r\n            name: this.state.name,\r\n            nik: this.state.nik,\r\n            idPo: this.state.idPo,\r\n            type: this.state.type,\r\n        }\r\n\r\n        // if(this.handleValidation()){\r\n            API_ENDPOINT.put('/admin/crew/edit', editDataCrew)\r\n            .then(res => {\r\n                alert('Berhasil Edit data Crew')\r\n                this.props.history.push('/entitas/crew')\r\n            })\r\n            .catch(error => {\r\n                alert('Error')\r\n            })\r\n        // }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"content-wrapper\">\r\n                <div className=\"content-header\">\r\n                    <div className=\"container-fluid header-fluid\">\r\n                    <div className=\"row mb-2\">\r\n                        <div className=\"col-sm-6\">\r\n                        <ol className=\"breadcrumb float-sm-left\">\r\n                            <li className=\"breadcrumb-item\"><a href=\"# \"><b>Home</b></a></li>\r\n                            <li className=\"breadcrumb-item active\"><b>Edit Crew</b></li>\r\n                        </ol>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <section class=\"content\">\r\n                    <div class=\"container-fluid\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12\">\r\n                                <div class=\"card card-primary\">\r\n                                    <div class=\"card-header\">\r\n                                        <h3 class=\"card-title\">Edit Crew</h3>\r\n                                    </div>\r\n                                    <form onSubmit={this.tambahData.bind(this)}>\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"form-group\">\r\n                                                <label>Pilih P.O</label>\r\n                                                <select class=\"form-control\" name=\"idPo\" value={this.state.idPo} style={{ width: '100%' }} onChange={this.handleChange}>\r\n                                                    <option disabled selected>Pilih P.O</option>\r\n                                                    {\r\n                                                        this.state.dataPo.map((el) => {\r\n                                                            return (\r\n                                                                <option key={el.idPo} value={el.idPo}>{el.nama}</option>\r\n                                                            )\r\n                                                        })\r\n                                                    }\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Nama Crew</label>\r\n                                                <input className=\"form-control\" type=\"text\" name=\"name\" value={this.state.name} onChange={this.handleChange} />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Pilih Jenis</label>\r\n                                                <select class=\"form-control\" value={this.state.type} name=\"type\" onChange={this.handleChange} style={{ width: '100%' }}>\r\n                                                    <option disabled selected>Pilih Jenis</option>\r\n                                                    <option value=\"DRV\">Driver</option>\r\n                                                    <option value=\"CREW\">Crew</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>NIK</label>\r\n                                                <input className=\"form-control\" type=\"text\" name=\"nik\" value={this.state.nik} onChange={this.handleChange} />\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div class=\"card-footer\">\r\n                                            <button type=\"submit\" class=\"btn btn-primary\">Edit</button>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import axios from 'axios'\r\n\r\nconst token = localStorage.getItem(\"token\")\r\n\r\nconst instance = axios.create({\r\n    // SERVICE DEV\r\n    // baseURL: 'http://52.163.218.136:8282',\r\n\r\n    // SERVICE LIVE\r\n    baseURL: 'http://po.bisku.id:8282',\r\n\r\n    // SERVIVE MNC\r\n    // baseURL: 'http://192.168.1.7:8282',\r\n\r\n    // SERVICE BASEMENT\r\n    // baseURL: 'http://192.168.0.185:8282',\r\n    headers: {\r\n        // \"access-control-allow-origin\" : \"*\",\r\n        'Authorization': \"Bearer \" + token\r\n    }\r\n});\r\n\r\nexport default instance;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"sourceRoot":""}