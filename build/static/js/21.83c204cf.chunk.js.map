{"version":3,"sources":["components/Entitas/Agen/EditAgen.js","Endpoint.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"names":["TambahAgen","props","handleChangeStatus","e","setState","target","name","state","status","handleChangeBerangkat","tempatBerangkat","inputFileLogo","undefined","fileInputLogo","current","click","OptionWilayah","x","value","id","label","namaWilayah","handleChangeWilayah","idWilayah","getLokasi","OptionLokasi","namaLokasi","handleChangeLokasi","idLokasi","handleChange","getInitialState","file","onChangeLogo","event","imgLogo","files","OptionPo","idPo","nama","handleChangePo","removePo","index","array","pos","splice","console","log","React","createRef","fields","errors","dataPo","dataWilayah","dataLokasi","options","dataArray","selectedOptions","valuePo","values","this","formIsValid","API_ENDPOINT","get","match","params","idAgen","then","res","data","alamat","nomorTelpon","kontakPerson","namaAgen","logo","latitude","longitude","endpointPoId","EndpointAgenId","EndpointPo","EndpointWilayah","idWilayahs","a","length","preventDefault","c","forEach","push","formData","FormData","append","method","url","headers","alert","history","catch","error","field","className","href","class","onSubmit","tambahData","bind","map","filter","option","onChange","closeMenuOnSelect","placeholder","el","onClick","type","style","color","checked","src","URL","createObjectURL","alt","width","height","ref","hidden","Component","token","localStorage","getItem","instance","axios","create","baseURL","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable"],"mappings":"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","file":"static/js/21.83c204cf.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport Select from 'react-select';\r\n\r\nimport API_ENDPOINT from '../../../Endpoint'\r\n\r\nexport default class TambahAgen extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.fileInputLogo = React.createRef()\r\n\r\n        this.state = {\r\n            value: '',\r\n            label: '',\r\n            fields: {},\r\n            errors: {},\r\n            dataPo: [],\r\n            dataWilayah: [],\r\n            dataLokasi: [],\r\n            options: [],\r\n            idPo: '',\r\n            dataArray: [],\r\n            selectedOptions: [],\r\n            valuePo: [],\r\n            values: '',\r\n            status: false,\r\n            tempatBerangkat: false,\r\n            idWilayah: '',\r\n            pos: []\r\n        }\r\n        \r\n    }\r\n\r\n    handleChangeStatus = (e) => {\r\n        this.setState({\r\n            [e.target.name]: !this.state.status\r\n        })\r\n    }\r\n\r\n    handleChangeBerangkat = (e) => {\r\n        this.setState({\r\n            [e.target.name]: !this.state.tempatBerangkat\r\n        })\r\n    }\r\n\r\n    handleValidation(){\r\n        let fields = this.state.fields;\r\n        let errors = {};\r\n        let formIsValid = true;\r\n\r\n        // // Validasi po\r\n        // if(!fields[\"po\"]){\r\n        //     formIsValid = false;\r\n        //     errors[\"po\"] = \"Tidak boleh kosong\";\r\n        // }\r\n\r\n        // // Validasi wilayah\r\n        // if(!fields[\"idWilayah\"]){\r\n        //     formIsValid = false;\r\n        //     errors[\"idWilayah\"] = \"Tidak boleh kosong\";\r\n        // }\r\n\r\n        // // Validasi lokasi\r\n        // if(!fields[\"idLokasi\"]){\r\n        //     formIsValid = false;\r\n        //     errors[\"idLokasi\"] = \"Tidak boleh kosong\";\r\n        // }\r\n\r\n        // Validasi namaAgen\r\n        if(!fields[\"namaAgen\"]){\r\n            formIsValid = false;\r\n            errors[\"namaAgen\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        // Validasi nomer telepon\r\n        if(!fields[\"nomorTelpon\"]){\r\n            formIsValid = false;\r\n            errors[\"nomorTelpon\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        // Validasi longitude\r\n        if(!fields[\"longitude\"]){\r\n            formIsValid = false;\r\n            errors[\"longitude\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        // Validasi latitude\r\n        if(!fields[\"latitude\"]){\r\n            formIsValid = false;\r\n            errors[\"latitude\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        // Validasi status\r\n        if(!fields[\"status\"]){\r\n            formIsValid = false;\r\n            errors[\"status\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        // Validasi tempat Berangkat\r\n        if(!fields[\"tempatBerangkat\"]){\r\n            formIsValid = false;\r\n            errors[\"tempatBerangkat\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        this.setState({errors: errors});\r\n        return formIsValid;\r\n        \r\n    }\r\n\r\n    inputFileLogo = () => {\r\n        if (this.fileInputLogo.current !== undefined && this.fileInputLogo.current.click !== undefined)\r\n            this.fileInputLogo.current.click()\r\n    }\r\n\r\n    EndpointAgenId() {\r\n        API_ENDPOINT.get('/admin/agen/' + this.props.match.params.idAgen)\r\n        .then(res => {\r\n            this.setState({\r\n                idWilayah: res.data.idWilayah,\r\n                idLokasi: res.data.idLokasi,\r\n                alamat: res.data.alamat,\r\n                nomorTelpon: res.data.nomorTelpon,\r\n                kontakPerson: res.data.kontakPerson,\r\n                tempatBerangkat: res.data.tempatBerangkat,\r\n                namaAgen: res.data.namaAgen,\r\n                pos: res.data.pos,\r\n                logo: res.data.logo,\r\n                latitude: res.data.latitude,\r\n                longitude: res.data.longitude,\r\n                status: res.data.status\r\n            })\r\n            this.getLokasi(res.data.idWilayah)\r\n            this.endpointPoId(this.state.pos)\r\n        })\r\n    }\r\n\r\n    EndpointPo() {\r\n        API_ENDPOINT.get('/admin/po/getAll')\r\n        .then(res => {\r\n            this.setState({\r\n                dataPo: res.data\r\n            })\r\n        })\r\n    }\r\n\r\n    EndpointWilayah() {\r\n        API_ENDPOINT.get('/admin/wilayah/list')\r\n        .then(res => {\r\n            this.setState({\r\n                dataWilayah: res.data\r\n            })\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.EndpointAgenId();\r\n        this.EndpointPo();\r\n        this.EndpointWilayah();\r\n    }\r\n\r\n    getLokasi(idWilayah) {\r\n        // console.log(idWilayah);\r\n        API_ENDPOINT.get('/admin/lokasi/list/wilayah/' +idWilayah)\r\n        .then(res => {\r\n            this.setState({\r\n                idWilayahs: idWilayah,\r\n                dataLokasi: res.data\r\n            })\r\n        })\r\n    }\r\n\r\n    // dropdownChanged = (e) => {\r\n    //     this.setState({\r\n    //         [e.target.name]: e.target.value\r\n    //     })\r\n    //     this.getLokasi(e.target.value)\r\n    // }\r\n\r\n    // START OPTION WILAYAH\r\n    OptionWilayah = (x) => {\r\n        return {value: x.id, label: x.namaWilayah}\r\n    }\r\n\r\n    handleChangeWilayah = (e) => {\r\n        this.setState({idWilayah: e.value})\r\n        this.getLokasi(e.value)\r\n    }\r\n    // END WILAYAH\r\n\r\n    // START OPTION LOKASI\r\n    OptionLokasi = (x) => {\r\n        return {value: x.id, label: x.namaLokasi}\r\n    }\r\n\r\n    handleChangeLokasi = (e) => {\r\n        this.setState({idLokasi: e.value})\r\n    }\r\n    // END LOKASI\r\n\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ \r\n            [e.target.name]: e.target.value \r\n        })\r\n    }\r\n\r\n    getInitialState = function() {\r\n        return{file: []}\r\n    }\r\n\r\n    onChangeLogo = (event)=>{\r\n        this.setState({\r\n            imgLogo: event.target.files[0]\r\n        })\r\n    }\r\n\r\n        // MakeOption(x) {\r\n        //     return { value: x.idPo, label: x.nama };\r\n        // }\r\n\r\n        // handleInputChange(value, e) {\r\n        //     if (e.action === \"input-change\") {\r\n        //         this.setState({ value });\r\n        //     }\r\n        // }\r\n\r\n        // handleChangeSelect = (e) => {\r\n        //     this.setState({\r\n        //         po: e\r\n        //     })\r\n        // }\r\n    endpointPoId(data) {\r\n        for(var a=0; a<data.length; a++) {\r\n\r\n        }\r\n    }\r\n    \r\n    OptionPo = (x) => {\r\n        return {value: x.idPo, label: x.nama}\r\n    }\r\n\r\n    handleChangePo = (e) => {\r\n        // console.log(e);\r\n\r\n        // const po = [...this.state.pos]\r\n        // console.log(po);\r\n\r\n        this.setState({\r\n            idPo: e.value\r\n        })\r\n    }\r\n\r\n    removePo = (index) => {\r\n        var array = this.state.pos;\r\n        if (index > -1) {\r\n            array.splice(index, 1);\r\n            this.setState({pos: array}, () => {console.log(this.state.pos);});\r\n        }\r\n    }\r\n\r\n    tambahData(e){\r\n        e.preventDefault();\r\n\r\n        var c = []\r\n        this.state.pos.forEach(function(data) {\r\n            c.push(data.idPo)\r\n        })\r\n        // console.log(c);\r\n\r\n        let formData = new FormData();\r\n\r\n        formData.append('id', this.props.match.params.idAgen);\r\n        formData.append('idLokasi', this.state.idLokasi);\r\n        formData.append('idWilayah', this.state.idWilayah);\r\n        formData.append('latitude', this.state.latitude);\r\n        if(!this.state.imgLogo){\r\n            // formData.append('logo', this.state.logo)\r\n        } else {\r\n            formData.append('logo', this.state.imgLogo);\r\n        }\r\n        formData.append('longitude', this.state.longitude);\r\n        formData.append('namaAgen', this.state.namaAgen);\r\n        formData.append('nomorTelpon', this.state.nomorTelpon);\r\n        // if(this.state.po) {\r\n        //     this.state.po.forEach(function(item) {\r\n        //         formData.append('po', JSON.stringify(item.value));\r\n        //     })\r\n        // }\r\n        formData.append('po', c);\r\n        formData.append('status', this.state.status);\r\n        formData.append('tempatBerangkat', this.state.tempatBerangkat);\r\n\r\n        // new Response(formData).text().then(console.log)\r\n\r\n        // if(this.handleValidation()){\r\n            API_ENDPOINT({\r\n                method: 'put',\r\n                url: '/admin/agen/edit',\r\n                data: formData,\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n            .then(res => {\r\n                console.log(res);\r\n                alert(\"Berhasil edit data\");\r\n                this.props.history.push('/entitas/agen')\r\n            })\r\n            .catch(error => {\r\n                alert('error')\r\n                console.log(error);\r\n            })\r\n        // }\r\n\r\n    }\r\n\r\n    handleChange(field, e){\r\n        let fields = this.state.fields;\r\n        fields[field] = e.target.value;\r\n        this.setState({fields});\r\n    }\r\n\r\n    render() {\r\n\r\n        console.log(this.state.dataPo);\r\n        // let options = [];\r\n        // options = options.concat(this.state.dataPo.map((x) => x));\r\n\r\n        // const { selectedOptionWil } = this.state.idWilayah;\r\n        // console.log(selectedOptionWil);\r\n\r\n        // console.log(this.state.pos);\r\n\r\n        // this.state.pos.forEach(function(el) {\r\n        //     console.log(el);\r\n        // })\r\n\r\n        return (\r\n            <div className=\"content-wrapper\">\r\n                <div className=\"content-header\">\r\n                    <div className=\"container-fluid header-fluid\">\r\n                    <div className=\"row mb-2\">\r\n                        <div className=\"col-sm-6\">\r\n                        <ol className=\"breadcrumb float-sm-left\">\r\n                            <li className=\"breadcrumb-item\"><a href=\"# \"><b>Home</b></a></li>\r\n                            <li className=\"breadcrumb-item active\"><b>Edit Agen</b></li>\r\n                        </ol>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <section class=\"content\">\r\n                    <div class=\"container-fluid\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12\">\r\n                                <div class=\"card card-primary\">\r\n                                    <div class=\"card-header\">\r\n                                        <h3 class=\"card-title\">Edit Agen</h3>\r\n                                    </div>\r\n                                    <form onSubmit={this.tambahData.bind(this)}>\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"form-group\">\r\n                                                <label>Pilih P.O</label>\r\n                                                {/* <Select\r\n                                                    isMulti\r\n                                                    name=\"colors\"\r\n                                                    options={options.map(x => this.MakeOption(x))}\r\n                                                    className=\"basic-multi-select\"\r\n                                                    classNamePrefix=\"select\"\r\n                                                    closeMenuOnSelect={false}\r\n                                                    onInputChange={this.handleInputChange}\r\n                                                    inputValue={this.state.value}\r\n                                                /> */}\r\n                                                <Select\r\n                                                    // isMulti\r\n                                                    name=\"po\"\r\n                                                    // value={selectedOption}\r\n                                                    value={this.state.dataPo.map(x => this.OptionPo(x)).filter(option => option.value === this.state.idPo)}\r\n                                                    onChange={this.handleChangePo}\r\n                                                    closeMenuOnSelect={false}\r\n                                                    placeholder=\"Pilih P.O\"\r\n                                                    // getOptionLabel={option => option.nama}\r\n                                                    // getOptionValue={option => option.idPo}\r\n                                                    // options={this.state.dataPo}\r\n                                                    options={this.state.dataPo.map(x => this.OptionPo(x))}\r\n                                                    // options={this.props.dataPo.map(x => this.props.OptionPo(x))}\r\n                                                />\r\n                                                {/* {this.state.dataPo.map(o => <p>{o.idPo}</p>)} */}\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label>P.O Terpilih</label>\r\n                                                <div className=\"lintasan\">\r\n                                                    {\r\n                                                        this.state.pos.map((el, index) => {\r\n                                                            // console.log(el);\r\n                                                            return(\r\n                                                                <span>\r\n                                                                    <i class=\"btn btn-city btn-xs\">\r\n                                                                        {el.nama}&nbsp;&nbsp;&nbsp;\r\n                                                                        <span onClick={this.removePo.bind(this, index)}>&times;</span><br/>\r\n                                                                    </i>\r\n                                                                    <span class=\"strip\"> &nbsp;&nbsp;&nbsp; </span>\r\n                                                                </span>\r\n                                                            )\r\n                                                        })\r\n                                                    }\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Pilih Wilayah</label>\r\n                                                <Select\r\n                                                    name=\"wilayah\"\r\n                                                    placeholder=\"Pilih Wilayah\"\r\n                                                    value={this.state.dataWilayah.map(x => this.OptionWilayah(x)).filter(option => option.value === this.state.idWilayah)}\r\n                                                    onChange={this.handleChangeWilayah}\r\n                                                    options={this.state.dataWilayah.map(x => this.OptionWilayah(x))}\r\n                                                />\r\n                                                {/* <select class=\"form-control\" name=\"idWilayah\" value={this.state.idWilayah} onChange={this.dropdownChanged} style={{ width: '100%' }}>\r\n                                                    <option disabled selected>Pilih Wilayah</option>\r\n                                                    {\r\n                                                        this.state.dataWilayah.map((el) => {\r\n                                                            return (\r\n                                                                <option key={el.id} value={el.id}>{el.namaWilayah}</option>\r\n                                                            )\r\n                                                        })\r\n                                                    }\r\n                                                </select> */}\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Pilih Lokasi</label>\r\n                                                <Select\r\n                                                    name=\"lokasi\"\r\n                                                    placeholder=\"Pilih Lokasi\"\r\n                                                    value={this.state.dataLokasi.map(x => this.OptionLokasi(x)).filter(option => option.value === this.state.idLokasi)}\r\n                                                    onChange={this.handleChangeLokasi}\r\n                                                    options={this.state.dataLokasi.map(x => this.OptionLokasi(x))}\r\n                                                />\r\n                                                {/* <select class=\"form-control\" name=\"idLokasi\" value={this.state.idLokasi} onChange={this.handleChange} style={{ width: '100%' }}>\r\n                                                    <option disabled selected>Pilih Lokasi</option>\r\n                                                    {\r\n                                                        this.state.dataLokasi.map((el) => {\r\n                                                            return (\r\n                                                                <option key={el.id} value={el.id}>{el.namaLokasi}</option>\r\n                                                            )\r\n                                                        })\r\n                                                    }\r\n                                                </select> */}\r\n                                                {/* <span style={{color:'red'}}> {this.state.errors[\"idLokasi\"]} </span><br/> */}\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Nama Agen</label>\r\n                                                <input className=\"form-control\" type=\"text\" name=\"namaAgen\" value={this.state.namaAgen} onChange={this.handleChange} />\r\n                                                <span style={{color:'red'}}> {this.state.errors[\"namaAgen\"]} </span><br/>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>No. Telepon</label>\r\n                                                <input className=\"form-control\" type=\"number\" name=\"nomorTelpon\" value={this.state.nomorTelpon} onChange={this.handleChange} />\r\n                                                <span style={{color:'red'}}> {this.state.errors[\"nomorTelpon\"]} </span><br/>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Longitude</label>\r\n                                                <input className=\"form-control\" type=\"text\" name=\"longitude\" value={this.state.longitude} onChange={this.handleChange} />\r\n                                                <span style={{color:'red'}}> {this.state.errors[\"longitude\"]} </span><br/>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Latitude</label>\r\n                                                <input className=\"form-control\" type=\"text\" name=\"latitude\" value={this.state.latitude} onChange={this.handleChange} />\r\n                                                <span style={{color:'red'}}> {this.state.errors[\"latitude\"]} </span><br/>\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label>Status Aktif</label>\r\n                                                <div className=\"radio\">\r\n                                                    <input\r\n                                                        type=\"radio\"\r\n                                                        name=\"status\" \r\n                                                        value=\"true\"\r\n                                                        checked={this.state.status}\r\n                                                        onChange={this.handleChangeStatus} /> Ya &nbsp;&nbsp;&nbsp;\r\n                                                    <input\r\n                                                        type=\"radio\"\r\n                                                        name=\"status\" \r\n                                                        value=\"false\"\r\n                                                        checked={!this.state.status}\r\n                                                        onChange={this.handleChangeStatus} /> Tidak &nbsp;&nbsp;&nbsp;\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label>Tempat Berangkat</label>\r\n                                                <div className=\"radio\">\r\n                                                    <input\r\n                                                        type=\"radio\"\r\n                                                        name=\"tempatBerangkat\" \r\n                                                        value=\"true\"\r\n                                                        checked={this.state.tempatBerangkat}\r\n                                                        onChange={this.handleChangeBerangkat} /> Ya &nbsp;&nbsp;&nbsp;\r\n                                                    <input\r\n                                                        type=\"radio\"\r\n                                                        name=\"tempatBerangkat\" \r\n                                                        value=\"false\"\r\n                                                        checked={!this.state.tempatBerangkat}\r\n                                                        onChange={this.handleChangeBerangkat} /> Tidak &nbsp;&nbsp;&nbsp;\r\n                                                </div>\r\n                                                <span style={{color:'red'}}> {this.state.errors[\"tempatBerangkat\"]} </span><br/>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Pilih Logo</label><br/>\r\n                                                <div className=\"row\">\r\n                                                    <div className=\"col-4\"></div>\r\n                                                    <div className=\"col-4 text-center\">\r\n                                                        {this.state.imgLogo ? [this.state.imgLogo].map((file)=>(\r\n                                                            <img src={URL.createObjectURL(file)} alt=\"\" width=\"150\" height=\"50\" />\r\n                                                        )) : <img src={this.state.logo} alt=\"\" width=\"150\" height=\"50\" /> }<br/><br/>\r\n                                                        <span className=\"btn btn-dark\" onClick={() => this.inputFileLogo()}>Upload Logo</span>\r\n                                                        <input ref={this.fileInputLogo} type=\"file\" onChange={this.onChangeLogo} hidden /><br/><br/>\r\n                                                    </div>\r\n                                                    <div className=\"col-4\"></div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div class=\"card-footer\">\r\n                                            <button type=\"submit\" class=\"btn btn-primary\">Edit</button>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import axios from 'axios'\r\n\r\nconst token = localStorage.getItem(\"token\")\r\n\r\nconst instance = axios.create({\r\n    // SERVICE DEV\r\n    // baseURL: 'http://52.163.218.136:8282',\r\n\r\n    // SERVICE LIVE\r\n    baseURL: 'http://po.bisku.id:8282',\r\n\r\n    // SERVIVE MNC\r\n    // baseURL: 'http://192.168.1.7:8282',\r\n\r\n    // SERVICE BASEMENT\r\n    // baseURL: 'http://192.168.0.185:8282',\r\n    headers: {\r\n        // \"access-control-allow-origin\" : \"*\",\r\n        'Authorization': \"Bearer \" + token\r\n    }\r\n});\r\n\r\nexport default instance;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"sourceRoot":""}