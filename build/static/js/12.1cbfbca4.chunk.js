(this.webpackJsonpreactjs_adminlte=this.webpackJsonpreactjs_adminlte||[]).push([[12],{176:function(e,t,a){e.exports=a(177)},177:function(e,t,a){"use strict";var n=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=this&&this.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=l(a(0));function o(e){var t=Number(e);return!isNaN(t)&&String(e)===String(t)}function c(e){return((e||"")+"00").substr(0,2)}function u(e,t,a,n,r){void 0===e&&(e=!1),void 0===t&&(t=""),void 0===a&&(a=""),void 0===n&&(n=":"),void 0===r&&(r=0);var s=a.split(n),l=s[0],i=s[1],o=s[2],u=Number(r),m=String(t).split(n),p=m[0],h=m[1],d=m[2];return p=c(p),Number(p[0])>2?(p=l,u-=1):2===Number(p[0])&&(2===Number(l[0])&&Number(p[1])>3?(p="2"+l[1],u-=2):Number(p[1])>3&&(p="23")),h=c(h),Number(h[0])>5&&(h=i,u-=1),e&&(d=c(d),Number(d[0])>5&&(d=o,u-=1)),[e?""+p+n+h+n+d:""+p+n+h,u]}t.isNumber=o,t.formatTimeItem=c,t.validateTimeAndCursor=u;var m=function(e){function t(t){var a=e.call(this,t)||this,n=Boolean(t.showSeconds),r=n?"00:00:00":"00:00",s=t.colon&&1===t.colon.length?t.colon:":",l=u(n,a.props.value,r,s)[0];return a.state={value:l,_colon:s,_showSeconds:n,_defaultValue:r,_maxLength:r.length},a.onInputChange=a.onInputChange.bind(a),a}return n(t,e),t.prototype.componentDidUpdate=function(e){if(this.props.value!==e.value){var t=u(this.state._showSeconds,this.props.value,this.state._defaultValue,this.state._colon)[0];this.setState({value:t})}},t.prototype.onInputChange=function(e,t){var a=this.state.value,n=e.target,r=n.value,s=n.selectionEnd||0,l=r.length>a.length,i=r[s-1],c=l?i:null,m=l?null:a[s],p=r.length===a.length?a[s-1]:null,h=this.state._colon,d=a,f=s;null!==c?s>this.state._maxLength?f=this.state._maxLength:3!==s&&6!==s||c!==h?3!==s&&6!==s||!o(c)?o(c)?(d=r.substr(0,s-1)+c+r.substr(s+1),2!==s&&5!==s||(f=s+1)):f=s-1:(d=""+r.substr(0,s-1)+h+c+r.substr(s+2),f=s+1):d=""+r.substr(0,s-1)+h+r.substr(s+1):null!==p?o(i)?d=s-1===2||s-1===5?""+r.substr(0,s-1)+h+r.substr(s):r:(d=a,f=s-1):"undefined"===typeof i||i===h||o(i)?null!==m&&(2!==s&&5!==s||m!==h?d=r.substr(0,s)+"0"+r.substr(s):(d=r.substr(0,s-1)+"0"+h+r.substr(s),f=s-1)):(d=a,f=s-1);var v=u(this.state._showSeconds,d,a,h,f),b=v[0],g=v[1];this.setState({value:b},(function(){n.selectionStart=g,n.selectionEnd=g,t(e,b)})),e.persist()},t.prototype.render=function(){var e=this,t=this.state.value,a=this.props,n=a.onChange,l=a.style,o=a.showSeconds,c=a.input,u=a.inputRef,m=(a.colon,s(a,["onChange","style","showSeconds","input","inputRef","colon"])),p=function(t){return e.onInputChange(t,(function(e,t){return n&&n(e,t)}))};return c?i.default.cloneElement(c,r(r({},m),{value:t,style:l,onChange:p})):i.default.createElement("input",r({type:"text"},m,{ref:u,value:t,onChange:p,style:r({width:o?54:35},l)}))},t.defaultProps={showSeconds:!1,input:null,style:{},colon:":"},t}(i.default.Component);t.default=m},33:function(e,t,a){"use strict";var n=a(36),r=a.n(n),s=localStorage.getItem("token"),l=r.a.create({baseURL:"http://po.bisku.id:8282",headers:{Authorization:"Bearer "+s}});t.a=l},331:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return O}));var n=a(51),r=a(38),s=a(11),l=a(12),i=a(14),o=a(13),c=a(0),u=a.n(c),m=a(33),p=a(36),h=a.n(p),d=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).saveAndContinue=function(t){t.preventDefault(),e.props.nextStep()},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.handleChange,t=this.props.values;return u.a.createElement("div",{className:"content-wrapper"},u.a.createElement("div",{className:"content-header"},u.a.createElement("div",{className:"container-fluid header-fluid"},u.a.createElement("div",{className:"row mb-2"},u.a.createElement("div",{className:"col-sm-6"},u.a.createElement("ol",{className:"breadcrumb float-sm-left"},u.a.createElement("li",{className:"breadcrumb-item"},u.a.createElement("a",{href:"# "},u.a.createElement("b",null,"Home"))),u.a.createElement("li",{className:"breadcrumb-item active"},u.a.createElement("b",null,"Tambah Trayek"))))))),u.a.createElement("section",{class:"content"},u.a.createElement("div",{class:"container-fluid"},u.a.createElement("div",{class:"row"},u.a.createElement("div",{class:"col-md-12"},u.a.createElement("div",{class:"card card-primary"},u.a.createElement("div",{class:"card-header"},u.a.createElement("h3",{class:"card-title"},"Tambah Trayek")),u.a.createElement("form",null,u.a.createElement("div",{class:"card-body"},u.a.createElement("div",{class:"form-group"},u.a.createElement("label",null,"Tanggal"),u.a.createElement("input",{className:"form-control",type:"date",name:"tanggal",onChange:e("tanggal"),value:t.tanggal}))),u.a.createElement("div",{class:"card-footer"},u.a.createElement("button",{onClick:this.saveAndContinue,class:"btn btn-primary pull-right"},"Next")))))))))}}]),a}(c.Component),f=a(18),v=a(37),b=a(176),g=a.n(b),y=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).saveAndContinue=function(e){e.preventDefault(),n.props.nextStep()},n.back=function(e){e.preventDefault(),n.props.prevStep()},n.state={time:"12:00"},n.onTimeChange=n.onTimeChange.bind(Object(f.a)(n)),n}return Object(l.a)(a,[{key:"onTimeChange",value:function(e,t){var a=t.replace(/-/g,":").substr(0,5);this.setState({time:a})}},{key:"render",value:function(){var e=this,t=this.props.values;return u.a.createElement("div",{className:"content-wrapper"},u.a.createElement("div",{className:"content-header"},u.a.createElement("div",{className:"container-fluid header-fluid"},u.a.createElement("div",{className:"row mb-2"},u.a.createElement("div",{className:"col-sm-6"},u.a.createElement("ol",{className:"breadcrumb float-sm-left"},u.a.createElement("li",{className:"breadcrumb-item"},u.a.createElement("a",{href:"# "},u.a.createElement("b",null,"Home"))),u.a.createElement("li",{className:"breadcrumb-item active"},u.a.createElement("b",null,"Tambah Trayek"))))))),u.a.createElement("section",{class:"content"},u.a.createElement("div",{class:"container-fluid"},u.a.createElement("div",{class:"row"},u.a.createElement("div",{class:"col-md-12"},u.a.createElement("div",{class:"card card-primary"},u.a.createElement("div",{class:"card-header"},u.a.createElement("h3",{class:"card-title"},"Tambah Trayek")),u.a.createElement("form",null,u.a.createElement("div",{class:"card-body"},u.a.createElement("div",{class:"form-group"},u.a.createElement("label",null,"Select City"),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-5"},u.a.createElement(v.a,{name:"wilayah",placeholder:"Select City",onChange:this.props.handleChangeWilayah,options:this.props.dataCities.map((function(t){return e.props.OptionWilayah(t)}))})))),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Lintasan"),u.a.createElement("div",{className:"lintasan"},this.props.lintasans.map((function(a,n){return u.a.createElement("span",null,u.a.createElement("i",{class:"btn btn-city btn-xs"},a.label,"\xa0\xa0\xa0",u.a.createElement("span",{onClick:e.props.removeLintasan.bind(e,n)},"\xd7"),u.a.createElement("br",null),u.a.createElement(g.a,{value:t.waktuTiba,onChange:function(t){return e.props.onTimeChange(t,n)},style:{border:"none",fontSize:32,textAlign:"center",width:"100px",padding:"5px 8px",color:"#333",borderRadius:3}})),u.a.createElement("span",{class:"strip"},"  "))})))),u.a.createElement("div",{class:"card-footer"},u.a.createElement("button",{onClick:this.back,className:"btn btn-warning"},"Back"),"\xa0\xa0\xa0",u.a.createElement("button",{onClick:this.saveAndContinue,class:"btn btn-primary pull-right"},"Next"))))))))))}}]),a}(c.Component),E=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return u.a.createElement("div",null)}}]),a}(c.Component),C=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return u.a.createElement("div",null)}}]),a}(c.Component),O=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).nextStep=function(){var e=l.state.step;l.setState({step:e+1})},l.prevStep=function(){var e=l.state.step;l.setState({step:e-1})},l.OptionPo=function(e){return{value:e.idPo,label:e.nama}},l.handleChangePo=function(e){l.setState({idPo:e.value})},l.handleChange=function(e){return function(t){l.setState(Object(r.a)({},e,t.target.value))}},l.OptionWilayah=function(e){return{value:e.cityID,label:e.cityName}},l.handleChangeWilayah=function(e){var t=!1;if(l.state.lintasans.length>0){for(var a=0;a<l.state.lintasans.length;a++)l.state.lintasans[a].label===e.label&&(t=!0);t||l.setState({lintasans:[].concat(Object(n.a)(l.state.lintasans),[e])})}else l.setState({lintasans:[].concat(Object(n.a)(l.state.lintasans),[e])})},l.removeLintasan=function(e){var t=l.state.lintasans;e>-1&&(t.splice(e,1),l.setState({lintasans:t}))},l.onTimeChange=function(e,t){var a=Object(n.a)(l.state.lintasans);console.log(e.target.value),a[t].waktuTiba=e.target.value,l.setState({lintasans:a})},l.state={step:1,tanggal:"",dataCities:[],dataPo:[],exist:!1,lintasans:[],waktuTiba:""},l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.endpointPo(),this.endpointCities()}},{key:"endpointPo",value:function(){var e=this;m.a.get("/admin/po/getAll").then((function(t){e.setState({dataPo:t.data})}))}},{key:"endpointCities",value:function(){var e=this;h.a.get("http://52.163.218.136:8080/allCities").then((function(t){e.setState({dataCities:t.data.data})}))}},{key:"render",value:function(){var e=this.state.step,t=this.state,a=t.dataPo,n=t.tanggal,r=t.dataCities,s=t.lintasans,l={dataPo:a,tanggal:n,dataCities:r,lintasans:s,waktuTiba:t.waktuTiba};switch(e){case 1:return u.a.createElement(d,{nextStep:this.nextStep,handleChange:this.handleChange,values:l,dataPo:a,OptionPo:this.OptionPo,handleChangePo:this.handleChangePo});case 2:return u.a.createElement(y,{nextStep:this.nextStep,prevStep:this.prevStep,values:l,dataCities:r,OptionWilayah:this.OptionWilayah,handleChangeWilayah:this.handleChangeWilayah,lintasans:s,removeLintasan:this.removeLintasan,onTimeChange:this.onTimeChange});case 3:return u.a.createElement(E,{nextStep:this.nextStep,prevStep:this.prevStep});case 4:return u.a.createElement(C,{submit:this.submit,prevStep:this.prevStep});default:return!1}}}]),a}(c.Component)},38:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return n}))},51:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function r(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=12.1cbfbca4.chunk.js.map