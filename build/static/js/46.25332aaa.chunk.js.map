{"version":3,"sources":["components/Entitas/Crew/TambahCrew.js","Endpoint.js"],"names":["TambahCrew","props","OptionPo","x","value","idPo","label","nama","handleChangePo","e","setState","OptionJenis","id","namaJenis","handleChangeJenis","idJenis","API_ENDPOINT","get","then","res","dataTypeSap","data","OptionCrew","NAME","handleChangeCrew","name","OptionNik","CUSTOMER","handleChangeNik","nik","state","fields","errors","dataPo","dataJenis","this","formIsValid","field","target","endpointPo","preventDefault","tambahDataCrew","type","post","alert","history","push","catch","error","console","log","match","params","className","href","class","onSubmit","tambahData","bind","placeholder","onChange","options","map","Component","token","localStorage","getItem","instance","axios","create","baseURL","headers"],"mappings":"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","file":"static/js/46.25332aaa.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport Select from 'react-select'\r\nimport API_ENDPOINT from '../../../Endpoint'\r\n\r\nexport default class TambahCrew extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.state = {\r\n            fields: {},\r\n            errors: {},\r\n            dataPo: [],\r\n            dataTypeSap: [],\r\n\r\n            dataJenis: [\r\n                {id:'JA', namaJenis: 'JAC'},\r\n                {id:'JR', namaJenis: 'JRC'},\r\n                {id:'JG', namaJenis: 'TJR'}\r\n            ]\r\n        }\r\n    }\r\n\r\n    handleValidation(){\r\n        let fields = this.state.fields;\r\n        let errors = {};\r\n        let formIsValid = true;\r\n\r\n        // // Validasi po\r\n        // if(!fields[\"idPo\"]){\r\n        //     formIsValid = false;\r\n        //     errors[\"idPo\"] = \"Tidak boleh kosong\";\r\n        // }\r\n\r\n        // Validasi Nama Crew\r\n        if(!fields[\"name\"]){\r\n            formIsValid = false;\r\n            errors[\"name\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        // // Validasi Type\r\n        // if(!fields[\"type\"]){\r\n        //     formIsValid = false;\r\n        //     errors[\"type\"] = \"Tidak boleh kosong\";\r\n        // }\r\n\r\n        // Validasi NIK\r\n        if(!fields[\"nik\"]){\r\n            formIsValid = false;\r\n            errors[\"nik\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        this.setState({errors: errors});\r\n        return formIsValid;\r\n        \r\n    }\r\n\r\n    handleChange(field, e){\r\n        let fields = this.state.fields;\r\n        fields[field] = e.target.value;\r\n        this.setState({fields});\r\n    }\r\n\r\n\r\n    endpointPo() {\r\n        API_ENDPOINT.get('/admin/po/getAll')\r\n        .then(res => {\r\n            this.setState({\r\n                dataPo: res.data\r\n            })\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.endpointPo();\r\n    }\r\n\r\n    // handleChangeType = (e) => {\r\n    //     const type = e.target.value\r\n    //     API_ENDPOINT.get('/sap/customer?group=' + type)\r\n    //     .then(res => {\r\n    //         this.setState({\r\n    //             dataTypeSap: res.data.data\r\n    //         })\r\n    //         console.log(res.data);\r\n    //     })\r\n    // }\r\n\r\n    // START OPTION P.O\r\n    OptionPo = (x) => {\r\n        return {value: x.idPo, label: x.nama}\r\n    }\r\n\r\n    handleChangePo = (e) => {\r\n        this.setState({idPo: e.value})\r\n    }\r\n    // END P.O\r\n\r\n    // START OPTION JENIS\r\n    OptionJenis = (x) => {\r\n        return {value: x.id, label: x.namaJenis}\r\n    }\r\n\r\n    handleChangeJenis = (e) => {\r\n        this.setState({idJenis: e.value})\r\n        \r\n        API_ENDPOINT.get('/id/co/bisku/payload/sap/customer?group=' + e.value)\r\n        .then(res => {\r\n            this.setState({\r\n                dataTypeSap: res.data.data\r\n            })\r\n            // console.log(res.data);\r\n        })\r\n    }\r\n    // END JENIS\r\n\r\n    // START OPTION CREW\r\n    OptionCrew = (x) => {\r\n        return {value: x.NAME, label: x.NAME}\r\n    }\r\n\r\n    handleChangeCrew = (e) => {\r\n        this.setState({name: e.value})\r\n    }\r\n    // END CREW\r\n\r\n    // START OPTION NIK\r\n    OptionNik = (x) => {\r\n        return {value: x.CUSTOMER, label: x.CUSTOMER}\r\n    }\r\n\r\n    handleChangeNik = (e) => {\r\n        this.setState({nik: e.value})\r\n    }\r\n    // END NIK\r\n\r\n    tambahData(e) {\r\n        e.preventDefault();\r\n\r\n        const tambahDataCrew = {\r\n            name: this.state.name,\r\n            nik: this.state.nik,\r\n            idPo: this.state.idPo,\r\n            type: this.state.idJenis\r\n        }\r\n\r\n        // if(this.handleValidation()){\r\n            API_ENDPOINT.post('/admin/crew/add', tambahDataCrew)\r\n            .then(res => {\r\n                alert('Berhasil Tambah data Crew')\r\n                this.props.history.push('/entitas/crew')\r\n            })\r\n            .catch(error => {\r\n                alert('Error')\r\n            })\r\n        // }\r\n\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props.match.params.idPo);\r\n        return (\r\n            <div className=\"content-wrapper\">\r\n                <div className=\"content-header\">\r\n                    <div className=\"container-fluid header-fluid\">\r\n                    <div className=\"row mb-2\">\r\n                        <div className=\"col-sm-6\">\r\n                        <ol className=\"breadcrumb float-sm-left\">\r\n                            <li className=\"breadcrumb-item\"><a href=\"# \"><b>Home</b></a></li>\r\n                            <li className=\"breadcrumb-item active\"><b>Tambah Crew</b></li>\r\n                        </ol>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <section class=\"content\">\r\n                    <div class=\"container-fluid\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12\">\r\n                                <div class=\"card card-primary\">\r\n                                    <div class=\"card-header\">\r\n                                        <h3 class=\"card-title\">Tambah Crew</h3>\r\n                                    </div>\r\n                                    <form onSubmit={this.tambahData.bind(this)}>\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"form-group\">\r\n                                                <label>Pilih P.O</label>\r\n                                                <Select\r\n                                                    name=\"po\"\r\n                                                    placeholder=\"Pilih P.O\"\r\n                                                    // value={this.state.dataPo.map(x => this.OptionPo(x)).filter(option => option.value === this.props.match.params.idPo)}\r\n                                                    onChange={this.handleChangePo}\r\n                                                    options={this.state.dataPo.map(x => this.OptionPo(x))}\r\n                                                />\r\n                                                {/* <select class=\"form-control\" value={this.props.match.params.idPo} style={{ width: '100%' }} onChange={this.handleChange.bind(this, \"idPo\")}>\r\n                                                    <option disabled selected>Pilih P.O</option>\r\n                                                    {\r\n                                                        this.state.dataPo.map((el) => {\r\n                                                            return (\r\n                                                                <option key={el.idPo} value={el.idPo}>{el.nama}</option>\r\n                                                            )\r\n                                                        })\r\n                                                    }\r\n                                                </select> */}\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Pilih Jenis</label>\r\n                                                <Select\r\n                                                    name=\"jenis\"\r\n                                                    placeholder=\"Pilih Jenis\"\r\n                                                    onChange={this.handleChangeJenis}\r\n                                                    options={this.state.dataJenis.map(x => this.OptionJenis(x))}\r\n                                                />\r\n                                                {/* <select class=\"form-control\" onChange={this.handleChangeType.bind(this)} style={{ width: '100%' }}>\r\n                                                    <option disabled selected>Pilih Jenis</option>\r\n                                                    <option value=\"JA\">JAC</option>\r\n                                                    <option value=\"JR\">JRC</option>\r\n                                                    <option value=\"JG\">TJR</option>\r\n                                                </select>\r\n                                                <span style={{color:'red'}}> {this.state.errors[\"type\"]} </span><br/> */}\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Nama Crew</label>\r\n                                                <Select\r\n                                                    name=\"crew\"\r\n                                                    placeholder=\"Pilih Crew\"\r\n                                                    onChange={this.handleChangeCrew}\r\n                                                    options={this.state.dataTypeSap.map(x => this.OptionCrew(x))}\r\n                                                />\r\n                                                {/* <select class=\"form-control\" style={{ width: '100%' }} onChange={this.handleChange.bind(this, \"name\")}>\r\n                                                    <option disabled selected>Pilih Crew</option>\r\n                                                    {\r\n                                                        this.state.dataTypeSap.map((el) => {\r\n                                                            return (\r\n                                                                <option value={el.NAME}>{el.NAME}</option>\r\n                                                            )\r\n                                                        })\r\n                                                    }\r\n                                                </select> */}\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>NIK</label>\r\n                                                <Select\r\n                                                    name=\"nik\"\r\n                                                    placeholder=\"Pilih N.I.K\"\r\n                                                    onChange={this.handleChangeNik}\r\n                                                    options={this.state.dataTypeSap.map(x => this.OptionNik(x))}\r\n                                                />\r\n                                                {/* <select class=\"form-control\" style={{ width: '100%' }} onChange={this.handleChange.bind(this, \"nik\")}>\r\n                                                    <option disabled selected>N.I.K</option>\r\n                                                    {\r\n                                                        this.state.dataTypeSap.map((el) => {\r\n                                                            return (\r\n                                                                <option value={el.CUSTOMER}>{el.CUSTOMER}</option>\r\n                                                            )\r\n                                                        })\r\n                                                    }\r\n                                                </select> */}\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div class=\"card-footer\">\r\n                                            <button type=\"submit\" class=\"btn btn-primary\">Tambah</button>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import axios from 'axios'\r\n\r\nconst token = localStorage.getItem(\"token\")\r\n\r\nconst instance = axios.create({\r\n    // SERVICE DEV\r\n    // baseURL: 'http://52.163.218.136:8282',\r\n\r\n    // SERVICE LIVE\r\n    baseURL: 'http://po.bisku.id:8282',\r\n\r\n    // SERVIVE MNC\r\n    // baseURL: 'http://192.168.1.7:8282',\r\n\r\n    // SERVICE BASEMENT\r\n    // baseURL: 'http://192.168.0.185:8282',\r\n    headers: {\r\n        // \"access-control-allow-origin\" : \"*\",\r\n        'Authorization': \"Bearer \" + token\r\n    }\r\n});\r\n\r\nexport default instance;\r\n"],"sourceRoot":""}