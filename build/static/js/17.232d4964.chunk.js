(this.webpackJsonpreactjs_adminlte=this.webpackJsonpreactjs_adminlte||[]).push([[17],{33:function(a,e,t){"use strict";var n=t(36),r=t.n(n),l=localStorage.getItem("token"),i=r.a.create({baseURL:"http://po.bisku.id:8282",headers:{Authorization:"Bearer "+l}});e.a=i},333:function(a,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return E}));var n=t(76),r=t(38),l=t(51),i=t(11),s=t(12),o=t(14),c=t(13),u=t(0),m=t.n(u),d=t(33),p=t(37),h=function(a){Object(o.a)(t,a);var e=Object(c.a)(t);function t(a){var n;return Object(i.a)(this,t),(n=e.call(this,a)).handleChangePo=function(a){n.setState({selectedValue:a.target.value},(function(){console.log(n.state.selectedValue)}))},n.saveAndContinue=function(a){a.preventDefault(),n.props.nextStep()},n.state={dataPo:[],selectedValue:null},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.EndpointPo()}},{key:"EndpointPo",value:function(){var a=this;d.a.get("/admin/po/getAll").then((function(e){console.log(e),a.setState({dataPo:e.data})}))}},{key:"render",value:function(){var a=this,e=this.props.handleChange,t=this.props.values;return m.a.createElement("div",{className:"content-wrapper"},m.a.createElement("div",{className:"content-header"},m.a.createElement("div",{className:"container-fluid header-fluid"},m.a.createElement("div",{className:"row mb-2"},m.a.createElement("div",{className:"col-sm-6"},m.a.createElement("ol",{className:"breadcrumb float-sm-left"},m.a.createElement("li",{className:"breadcrumb-item"},m.a.createElement("a",{href:"# "},m.a.createElement("b",null,"Home"))),m.a.createElement("li",{className:"breadcrumb-item active"},m.a.createElement("b",null,"Tambah Trayek"))))))),m.a.createElement("section",{class:"content"},m.a.createElement("div",{class:"container-fluid"},m.a.createElement("div",{class:"row"},m.a.createElement("div",{class:"col-md-12"},m.a.createElement("div",{class:"card card-primary"},m.a.createElement("div",{class:"card-header"},m.a.createElement("h3",{class:"card-title"},"Tambah Trayek")),m.a.createElement("form",null,m.a.createElement("div",{class:"card-body"},m.a.createElement("div",{class:"form-group"},m.a.createElement("label",null,"Pilih P.O"),m.a.createElement(p.a,{name:"po",placeholder:"Pilih P.O",value:this.props.dataPo.map((function(e){return a.props.OptionPo(e)})).filter((function(a){return a.value===t.idPo})),onChange:this.props.handleChangePo,options:this.props.dataPo.map((function(e){return a.props.OptionPo(e)}))})),m.a.createElement("div",{class:"form-group"},m.a.createElement("label",null,"Nama Trayek"),m.a.createElement("input",{className:"form-control",type:"text",name:"nama",onChange:e("nama"),value:t.nama})),m.a.createElement("div",{class:"form-group"},m.a.createElement("label",null,"Kode Trayek"),m.a.createElement("input",{className:"form-control",type:"text",name:"kode",onChange:e("kode"),value:t.kode})),m.a.createElement("div",{class:"form-group"},m.a.createElement("label",null,"Kontak"),m.a.createElement("input",{className:"form-control",type:"number",name:"kontak",onChange:e("kontak"),value:t.kontak})),m.a.createElement("div",{class:"form-group"},m.a.createElement("label",null,"Penumpang"),m.a.createElement("div",{className:"radio"},m.a.createElement("input",{type:"radio",name:"isPenumpang",value:"true",onChange:this.props.handleChangePenumpang("isPenumpang"),checked:t.isPenumpang})," Ya \xa0\xa0\xa0",m.a.createElement("input",{type:"radio",name:"isPenumpang",value:"false",onChange:this.props.handleChangePenumpang("isPenumpang"),checked:!t.isPenumpang})," Tidak \xa0\xa0\xa0"))),m.a.createElement("div",{class:"card-footer"},m.a.createElement("button",{onClick:this.saveAndContinue,class:"btn btn-primary pull-right"},"Next")))))))))}}]),t}(u.Component),f=function(a){Object(o.a)(t,a);var e=Object(c.a)(t);function t(){var a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=e.call.apply(e,[this].concat(r))).saveAndContinue=function(e){e.preventDefault(),a.props.nextStep()},a.back=function(e){e.preventDefault(),a.props.prevStep()},a}return Object(s.a)(t,[{key:"render",value:function(){var a=this;return m.a.createElement("div",{className:"content-wrapper"},m.a.createElement("div",{className:"content-header"},m.a.createElement("div",{className:"container-fluid header-fluid"},m.a.createElement("div",{className:"row mb-2"},m.a.createElement("div",{className:"col-sm-6"},m.a.createElement("ol",{className:"breadcrumb float-sm-left"},m.a.createElement("li",{className:"breadcrumb-item"},m.a.createElement("a",{href:"# "},m.a.createElement("b",null,"Home"))),m.a.createElement("li",{className:"breadcrumb-item active"},m.a.createElement("b",null,"Tambah Trayek"))))))),m.a.createElement("section",{class:"content"},m.a.createElement("div",{class:"container-fluid"},m.a.createElement("div",{class:"row"},m.a.createElement("div",{class:"col-md-12"},m.a.createElement("div",{class:"card card-primary"},m.a.createElement("div",{class:"card-header"},m.a.createElement("h3",{class:"card-title"},"Tambah Trayek")),m.a.createElement("form",null,m.a.createElement("div",{class:"card-body"},m.a.createElement("div",{class:"form-group"},m.a.createElement("label",null,"Input Jadwal"),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("input",{className:"form-control",type:"text",name:"waktu",placeholder:"ex: 00:00",onChange:function(e){a.props.handleChangeWaktu(e.target)},value:this.props.postWaktu.waktu})),m.a.createElement("div",{className:"col2"},m.a.createElement("button",{className:"btn btn-dark",onClick:this.props.handleSubmit.bind(this)},m.a.createElement("i",{className:"fa fa-plus"})))))),this.props.jadwals.map((function(e,t){return m.a.createElement("div",{className:"form-group"},m.a.createElement("div",{className:"row",style:{paddingLeft:"20px"}},m.a.createElement("div",{className:"col-6"},m.a.createElement("input",{className:"form-control",value:e.waktu,readOnly:!0})),m.a.createElement("div",{className:"col-2"},m.a.createElement("button",{className:"btn btn-danger",onClick:function(e){e.stopPropagation(),e.preventDefault(),a.props.removeWaktu(t)}},m.a.createElement("i",{className:"fa fa-trash"})))))})),m.a.createElement("div",{class:"card-footer"},m.a.createElement("button",{onClick:this.back,className:"btn btn-warning"},"Back"),"\xa0\xa0\xa0",m.a.createElement("button",{onClick:this.saveAndContinue,class:"btn btn-primary pull-right"},"Next")))))))))}}]),t}(u.Component),k=function(a){Object(o.a)(t,a);var e=Object(c.a)(t);function t(a){var n;return Object(i.a)(this,t),(n=e.call(this,a)).urutan=function(a){n.setState({urutan:a.target.value},(function(){console.log(n.state.urutan)}))},n.saveAndContinue=function(a){a.preventDefault(),n.props.nextStep()},n.back=function(a){a.preventDefault(),n.props.prevStep()},n.state={dataWilayah:[],dataLokasi:[],lintasans:[],exist:!1,idLokasi:""},n}return Object(s.a)(t,[{key:"render",value:function(){var a=this;return m.a.createElement("div",{className:"content-wrapper"},m.a.createElement("div",{className:"content-header"},m.a.createElement("div",{className:"container-fluid header-fluid"},m.a.createElement("div",{className:"row mb-2"},m.a.createElement("div",{className:"col-sm-6"},m.a.createElement("ol",{className:"breadcrumb float-sm-left"},m.a.createElement("li",{className:"breadcrumb-item"},m.a.createElement("a",{href:"# "},m.a.createElement("b",null,"Home"))),m.a.createElement("li",{className:"breadcrumb-item active"},m.a.createElement("b",null,"Tambah Trayek"))))))),m.a.createElement("section",{class:"content"},m.a.createElement("div",{class:"container-fluid"},m.a.createElement("div",{class:"row"},m.a.createElement("div",{class:"col-md-12"},m.a.createElement("div",{class:"card card-primary"},m.a.createElement("div",{class:"card-header"},m.a.createElement("h3",{class:"card-title"},"Tambah Trayek")),m.a.createElement("form",null,m.a.createElement("div",{class:"card-body"},m.a.createElement("div",{class:"form-group"},m.a.createElement("label",null,"Pilih Wilayah"),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-5"},m.a.createElement("select",{class:"form-control",style:{width:"100%"},onChange:this.props.handleChangeWilayah},m.a.createElement("option",{disabled:!0,selected:!0},"Pilih Wilayah"),this.props.dataWilayah.map((function(a){return m.a.createElement("option",{key:a.id,value:a.id},a.namaWilayah)})))))),m.a.createElement("div",{className:"form-group"},m.a.createElement("table",{className:"table table-bordered"},m.a.createElement("tbody",null,this.props.dataLokasi.map((function(e){return m.a.createElement("tr",{class:"city",key:e.id,onClick:a.props.addLintasan.bind(a,e)},m.a.createElement("td",null,e.namaLokasi," ",m.a.createElement("br",null)," ",m.a.createElement("p",{style:{fontSize:"10"}},"(Click 2x to choice)")))}))))),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",null,"Lintasan"),m.a.createElement("div",{className:"lintasan"},this.props.lintasans.map((function(e,t){return m.a.createElement("span",null,m.a.createElement("i",{class:"btn btn-city btn-xs"},e.namaLokasi,"\xa0\xa0\xa0",m.a.createElement("span",{onClick:a.props.removeLintasan.bind(a,t)},"\xd7"),m.a.createElement("br",null),m.a.createElement("input",{class:"form-control",type:"number",name:"urutan",value:e.urutan,onChange:function(t){return a.props.urutan(t.target,e)},placeholder:"input urutan"})),m.a.createElement("span",{class:"strip"}," ---- "))})))),m.a.createElement("div",{class:"card-footer"},m.a.createElement("button",{onClick:this.back,className:"btn btn-warning"},"Back"),"\xa0\xa0\xa0",m.a.createElement("button",{onClick:this.saveAndContinue,class:"btn btn-primary pull-right"},"Next"))))))))))}}]),t}(u.Component),v=function(a){Object(o.a)(t,a);var e=Object(c.a)(t);function t(){var a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=e.call.apply(e,[this].concat(r))).saveAndContinue=function(e){e.preventDefault(),a.props.submit()},a.back=function(e){e.preventDefault(),a.props.prevStep()},a}return Object(s.a)(t,[{key:"render",value:function(){var a=this,e=this.props.dataLintasan;return console.log(this.props.dataMaterial),console.log(this.props.dataTypeBus),m.a.createElement("div",{className:"content-wrapper"},m.a.createElement("div",{className:"content-header"},m.a.createElement("div",{className:"container-fluid header-fluid"},m.a.createElement("div",{className:"row mb-2"},m.a.createElement("div",{className:"col-sm-6"},m.a.createElement("ol",{className:"breadcrumb float-sm-left"},m.a.createElement("li",{className:"breadcrumb-item"},m.a.createElement("a",{href:"# "},m.a.createElement("b",null,"Home"))),m.a.createElement("li",{className:"breadcrumb-item active"},m.a.createElement("b",null,"Tambah Trayek"))))))),m.a.createElement("section",{class:"content"},m.a.createElement("div",{class:"container-fluid"},m.a.createElement("div",{class:"row"},m.a.createElement("div",{class:"col-md-12"},m.a.createElement("div",{class:"card card-primary"},m.a.createElement("div",{class:"card-header"},m.a.createElement("h3",{class:"card-title"},"Tambah Trayek")),m.a.createElement("form",null,m.a.createElement("div",{class:"card-body"},m.a.createElement("div",{class:"form-group"},m.a.createElement("label",null,"Arah Trayek"),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-5"},m.a.createElement(p.a,{name:"kotaAsal",placeholder:"Pilih Kota Asal",onChange:this.props.handleChangekotaAsal,options:e.map(this.props.OptionKotaAsal)}),m.a.createElement("br",null)),m.a.createElement("div",{className:"col-md-5"},m.a.createElement(p.a,{name:"kotaAkhir",placeholder:"Pilih Kota Akhir",onChange:this.props.handleChangekotaAkhir,options:this.props.tujuanKota.map(this.props.OptionKotaAkhir)}),m.a.createElement("br",null)),m.a.createElement("div",{className:"col-md-2"},m.a.createElement("button",{className:"btn btn-dark",onClick:function(e){return a.props.addTarif(e)}},m.a.createElement("i",{className:"fa fa-plus"}))))),m.a.createElement("div",{className:"form-group"},m.a.createElement("table",{class:"table"},m.a.createElement("col",{width:"10%"}),m.a.createElement("col",{width:"10%"}),m.a.createElement("col",{width:"10%"}),m.a.createElement("col",{width:"10%"}),m.a.createElement("col",{width:"10%"}),m.a.createElement("col",{width:"10%"}),m.a.createElement("col",{width:"20%"}),m.a.createElement("col",{width:"40%"}),m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"No."),m.a.createElement("th",null,"Kota Asal"),m.a.createElement("th",null,"Kota Tujuan"),m.a.createElement("th",null,"Tarif Normal"),m.a.createElement("th",null,"Tarif Member"),m.a.createElement("th",null,"Tarif Non Tunai"),m.a.createElement("th",null,"Pilih Type Bus"),m.a.createElement("th",null,"Pilih Material"),m.a.createElement("th",null,"Aksi"))),m.a.createElement("tbody",null,this.props.arahTrayek.map((function(e,t){return console.log(e),m.a.createElement("tr",null,m.a.createElement("td",null,t+1),m.a.createElement("td",null,e.lokasiAwalNama),m.a.createElement("td",null,e.lokasiAkhirNama),m.a.createElement("td",null,m.a.createElement("input",{class:"form-control",type:"number",name:"tarif",value:e.tarif,onChange:function(t){return a.props.changeTarif(t,e)}})),m.a.createElement("td",null,m.a.createElement("input",{class:"form-control",type:"number",name:"tarif",value:e.tarifMember,onChange:function(t){return a.props.changeTarifMember(t,e)}})),m.a.createElement("td",null,m.a.createElement("input",{class:"form-control",type:"number",name:"tarif",value:e.tarifNonTunai,onChange:function(t){return a.props.changeTarifNonTunai(t,e)}})),m.a.createElement("td",null,m.a.createElement(p.a,{name:"typeBus",placeholder:"Pilih Type Bus",value:a.props.dataTypeBus.map((function(e){return a.props.OptionTypeBus(e)})).filter((function(a){return a.value===e.typeBus})),onChange:function(e){return a.props.handleChangeTypeBus(e,t)},options:a.props.dataTypeBus.map((function(e){return a.props.OptionTypeBus(e)}))})),m.a.createElement("td",null,m.a.createElement(p.a,{name:"material",placeholder:"Pilih Material",value:a.props.dataMaterial.map((function(e){return a.props.OptionMaterial(e)})).find((function(a){return a.value===e.sapMaterial})),onChange:function(e){return a.props.handleChangeMaterial(e,t)},options:a.props.dataMaterial.map((function(e){return a.props.OptionMaterial(e)}))})),m.a.createElement("td",null,m.a.createElement("button",{className:"btn btn-danger",onClick:function(e){return a.props.removeTarif(e,t)}},m.a.createElement("i",{className:"fa fa-trash"})),m.a.createElement("br",null)))}))))),m.a.createElement("div",{class:"card-footer"},m.a.createElement("button",{onClick:this.back,className:"btn btn-warning"},"Back"),"\xa0\xa0\xa0",m.a.createElement("button",{onClick:this.props.submit,class:"btn btn-primary pull-right"},"Submit"))))))))))}}]),t}(u.Component),E=function(a){Object(o.a)(t,a);var e=Object(c.a)(t);function t(a){var n;return Object(i.a)(this,t),(n=e.call(this,a)).nextStep=function(){var a=n.state.step;n.setState({step:a+1})},n.prevStep=function(){var a=n.state.step;n.setState({step:a-1})},n.OptionPo=function(a){return{value:a.idPo,label:a.nama}},n.handleChangePo=function(a){n.setState({idPo:a.value})},n.OptionTypeBus=function(a){return{value:a.id,label:a.namaTypeBus}},n.handleChangeTypeBus=function(a,e){var t=Object(l.a)(n.state.arahTrayek);t[e].typeBus=a.value,n.setState({arahTrayek:t}),d.a.get("/id/co/bisku/payload/sap/material?group="+a.value).then((function(a){n.setState({dataMaterial:a.data.trayek})})).catch((function(a){alert("error SAP Material")}))},n.OptionMaterial=function(a){return{value:a.MATERIAL,label:a.DESCRIPTION}},n.handleChangeMaterial=function(a,e){var t=Object(l.a)(n.state.arahTrayek);t[e].sapMaterial=a.value;for(var r=a.value,i=0;i<n.state.dataMaterial.length;i++)if(r===n.state.dataMaterial[i].MATERIAL){var s=n.state.dataMaterial[i];t[e].sapCash=s.CASH,t[e].sapEtiket=s.ETIKET,t[e].sapMaterial=s.MATERIAL,t[e].sapPriceCode=s.PRICECODE,t[e].sapQris=s.QRIS,n.setState({arahTrayek:t})}},n.handleChange=function(a){return function(e){n.setState(Object(r.a)({},a,e.target.value))}},n.changeSapTypeBus=function(a){n.setState({sapType:a.target.value});var e=a.target.value;d.a.get("/id/co/bisku/payload/sap/material?group="+e).then((function(a){n.setState({dataMaterial:a.data.trayek})})).catch((function(a){alert("error SAP Material")}))},n.changeSapMaterial=function(a){n.setState({sapMaterial:a.target.value});for(var e=a.target.value,t=0;t<n.state.dataMaterial.length;t++)if(e===n.state.dataMaterial[t].MATERIAL){var r=n.state.dataMaterial[t];n.setState({materials:r})}},n.handleChangePenumpang=function(a){return function(a){n.setState({isPenumpang:!n.state.isPenumpang})}},n.handleSubmit=function(a){a.preventDefault(),n.setState((function(a){return{jadwals:[].concat(Object(l.a)(a.jadwals),[a.postWaktu]),postWaktu:{waktu:""}}}))},n.removeWaktu=function(a){n.setState((function(e){return{jadwals:[].concat(Object(l.a)(e.jadwals.slice(0,a)),Object(l.a)(e.jadwals.slice(a+1)))}}))},n.handleChangeWilayah=function(a){var e=a.target.value;d.a.get("/admin/lokasi/list/wilayah/"+e).then((function(a){n.setState({dataLokasi:a.data})}))},n.addLintasan=function(a){var e={lokasiId:a.id,namaLokasi:a.namaLokasi},t=!1;if(n.state.lintasans.length>0){for(var r=0;r<n.state.lintasans.length;r++)n.state.lintasans[r].namaLokasi===e.namaLokasi&&(t=!0,n.setState({exist:t}),r=n.state.lintasans.length);t||n.state.lintasans.push(e)}else n.state.lintasans.push(e)},n.removeLintasan=function(a){var e=n.state.lintasans;a>-1&&(e.splice(a,1),n.setState({lintasans:e}))},n.urutan=function(a,e){var t=a.value,r=n.state.lintasans,l=r.findIndex((function(a){return a.urutan===e.urutan}));-1!==l&&(r[l].urutan=t,n.setState({lintasans:r})),console.log(r)},n.OptionKotaAsal=function(a,e){return{value:e,label:a.namaLokasi}},n.handleChangekotaAsal=function(a){n.setState({from:a.value});var e=[];n.state.lintasans.forEach((function(a){e.push(a)}));var t=parseInt(a.value)+1;e.splice(0,t),n.setState({tujuanKota:e})},n.OptionKotaAkhir=function(a,e){return{value:e,label:a.namaLokasi}},n.handleChangekotaAkhir=function(a){n.setState({to:a.value})},n.addTarif=function(a){a.preventDefault();var e,t=n.state.lintasans[n.state.from],r=n.state.tujuanKota[n.state.to];e=t.lokasiId&&r.lokasiId?{lokasiAwalId:t.lokasiId,lokasiAwalNama:t.namaLokasi,lokasiAkhirId:r.lokasiId,lokasiAkhirNama:r.namaLokasi}:{lokasiAwalId:t.id,lokasiAwalNama:t.namaLokasi,lokasiAkhirId:r.id,lokasiAkhirNama:r.namaLokasi},console.log(e);for(var l=!1,i=0;i<n.state.arahTrayek.length;i++)n.state.arahTrayek[i].lokasiAwalId===e.lokasiAwalId&&n.state.arahTrayek[i].lokasiAkhirId===e.lokasiAkhirId&&(l=!0);if(!l){var s=n.state.arahTrayek;s.push(e),n.setState({arahTrayek:s})}},n.changeTarif=function(a,e){var t=n.state.arahTrayek,r=t.findIndex((function(a){return a.tarif===e.tarif}));-1!==r&&(t[r].tarif=a.target.value,n.setState({arahTrayek:t}))},n.changeTarifMember=function(a,e){var t=n.state.arahTrayek,r=t.findIndex((function(a){return a.tarifMember===e.tarifMember}));-1!==r&&(t[r].tarifMember=a.target.value,n.setState({arahTrayek:t}))},n.changeTarifNonTunai=function(a,e){var t=n.state.arahTrayek,r=t.findIndex((function(a){return a.tarifNonTunai===e.tarifNonTunai}));-1!==r&&(t[r].tarifNonTunai=a.target.value,n.setState({arahTrayek:t}))},n.removeTarif=function(a,e){a.preventDefault();var t=Object(l.a)(n.state.arahTrayek);console.log(t),-1!==e&&(t.splice(e,1),n.setState({arahTrayek:t},(function(){console.log(n.state.arahTrayek)})))},n.submit=function(a){var e;a.preventDefault();for(var t,r=[],l=0;l<n.state.arahTrayek.length;l++)(e=n.state.arahTrayek[l]).idTrayekTarif?r.push({idTrayekTarif:e.idTrayekTarif,lokasiAkhirId:e.lokasiAkhirId,lokasiAkhirNama:e.lokasiAkhirNama,lokasiAwalId:e.lokasiAwalId,lokasiAwalNama:e.lokasiAwalNama,tarif:e.tarif,tarifMember:e.tarifMember,tarifNonTunai:e.tarifNonTunai,typeBus:e.typeBus,sapCash:e.sapCash,sapEtiket:e.sapEtiket,sapMaterial:e.sapMaterial,sapPriceCode:e.sapPriceCode,sapQris:e.sapQris}):r.push({lokasiAkhirId:e.lokasiAkhirId,lokasiAkhirNama:e.lokasiAkhirNama,lokasiAwalId:e.lokasiAwalId,lokasiAwalNama:e.lokasiAwalNama,tarif:e.tarif,tarifMember:e.tarifMember,tarifNonTunai:e.tarifNonTunai,typeBus:e.typeBus,sapCash:e.sapCash,sapEtiket:e.sapEtiket,sapMaterial:e.sapMaterial,sapPriceCode:e.sapPriceCode,sapQris:e.sapQris});t=(n.state.idPo,{idTrayek:n.state.idTrayek,idPo:n.state.idPo,isPenumpang:n.state.isPenumpang,jadwals:n.state.jadwals,kode:n.state.kode,kontak:n.state.kontak,lintasans:n.state.lintasans,nama:n.state.nama,tarifs:r}),console.log(t),d.a.put("/admin/bumeltrayek/edit",t).then((function(a){alert(a.data.message+"\nNext Penyesuain change tarif S.A.P"),n.props.history.push("/sap/tambahHarga")})).catch((function(a){alert("error")}))},n.state={step:1,idPo:"",idTrayek:"",nama:"",kode:"",keterangan:"",kontak:"",isPenumpang:!1,dataPo:[],dataWilayah:[],dataLokasi:[],sapType:"",sapMaterial:"",materials:{},dataMaterial:[],jadwals:[],postWaktu:{waktu:""},exist:!1,lintasans:[],postLintasan:[],postingLin:{lokasiId:"",urutan:""},from:"",to:"",tujuanKota:[],arahTrayek:[],dataTrayekById:[],dataTypeBus:[{id:"JA",namaTypeBus:"JAC"},{id:"JR",namaTypeBus:"JRC"},{id:"JG",namaTypeBus:"TJR"}]},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.endpointWilayah(),this.endpointTrayekId(),this.endpointPo()}},{key:"endpointPo",value:function(){var a=this;d.a.get("/admin/po/getAll").then((function(e){a.setState({dataPo:e.data})}))}},{key:"endpointWilayah",value:function(){var a=this;d.a.get("/admin/wilayah/list").then((function(e){a.setState({dataWilayah:e.data})}))}},{key:"endpointTrayekId",value:function(){var a=this,e=this.props.match.params.idTrayek;d.a.get("/admin/bumeltrayek/"+e).then((function(e){console.log(e),a.setState({dataTrayekById:e.data,idTrayek:e.data.idTrayek,idPo:e.data.idPo,nama:e.data.nama,kode:e.data.kode,kontak:e.data.kontak,isPenumpang:e.data.isPenumpang,jadwals:e.data.jadwals,lintasans:e.data.lintasans.sort((function(a,e){return a.idTrayekLintasan-e.idTrayekLintasan})),arahTrayek:e.data.tarifs}),a.endpointMaterialId(e.data.tarifs)})).catch((function(a){console.log(a),alert("data Trayek By Id Error")}))}},{key:"endpointMaterialId",value:function(a){for(var e=this,t=0;t<a.length;t++)console.log(a[t]),d.a.get("/id/co/bisku/payload/sap/material?group="+a[t].typeBus).then((function(a){e.setState({dataMaterial:[].concat(Object(l.a)(e.state.dataMaterial),Object(l.a)(a.data.trayek))},(function(){console.log(e.state.dataMaterial)}))})).catch((function(a){alert("error SAP Material")}))}},{key:"handleChangeWaktu",value:function(a){var e=a.name,t=a.value;this.setState((function(a){return{postWaktu:Object(n.a)(Object(n.a)({},a.postWaktu),{},Object(r.a)({},e,t))}}))}},{key:"render",value:function(){var a=this,e=this.state.step,t=this.state,n=t.dataTrayekById,r=t.idPo,l=t.dataPo,i=t.dataTypeBus,s=t.typeBus,o=t.sapMaterial,c=t.materials,u=t.dataMaterial,d=t.nama,p=t.kode,E=t.keterangan,b=t.kontak,y=t.isPenumpang,g=t.jadwals,T=t.postWaktu,C=t.dataWilayah,N=t.dataLokasi,P=t.lintasans,A=t.postLintasan,O=t.tujuanKota,S=t.arahTrayek,w={dataTrayekById:n,idPo:r,dataPo:l,dataTypeBus:i,typeBus:s,sapMaterial:o,materials:c,dataMaterial:u,nama:d,kode:p,keterangan:E,kontak:b,isPenumpang:y,jadwals:g,postWaktu:T,dataWilayah:C,dataLokasi:N,lintasans:P,postLintasan:A,tujuanKota:O,arahTrayek:S};switch(e){case 1:return m.a.createElement(h,{nextStep:this.nextStep,handleChange:this.handleChange,handleChangeNama:this.handleChangeNama,handleChangePenumpang:this.handleChangePenumpang,values:w,dataPo:l,OptionPo:this.OptionPo,handleChangePo:this.handleChangePo,dataTypeBus:i,OptionTypeBus:this.OptionTypeBus,handleChangeTypeBus:this.handleChangeTypeBus,dataTrayekById:n,dataMaterial:u,OptionMaterial:this.OptionMaterial,handleChangeMaterial:this.handleChangeMaterial,changeSapTypeBus:this.changeSapTypeBus,changeSapMaterial:this.changeSapMaterial});case 2:return m.a.createElement(f,{nextStep:this.nextStep,prevStep:this.prevStep,handleChange:this.handleChange,handleChangeWaktu:function(e){return a.handleChangeWaktu(e)},handleSubmit:this.handleSubmit,removeWaktu:this.removeWaktu,postWaktu:T,jadwals:g,dataTrayekById:n});case 3:return m.a.createElement(k,{nextStep:this.nextStep,prevStep:this.prevStep,dataWilayah:C,dataLokasi:N,handleChangeWilayah:this.handleChangeWilayah,addLintasan:this.addLintasan,lintasans:P,removeLintasan:this.removeLintasan,postLintasan:A,urutan:this.urutan});case 4:return m.a.createElement(v,{submit:this.submit,prevStep:this.prevStep,dataLintasan:P,OptionKotaAsal:this.OptionKotaAsal,handleChangekotaAsal:this.handleChangekotaAsal,OptionKotaAkhir:this.OptionKotaAkhir,handleChangekotaAkhir:this.handleChangekotaAkhir,addTarif:this.addTarif,changeTarif:this.changeTarif,changeTarifMember:this.changeTarifMember,changeTarifNonTunai:this.changeTarifNonTunai,tujuanKota:O,arahTrayek:S,typeBus:s,dataTypeBus:i,OptionTypeBus:this.OptionTypeBus,handleChangeTypeBus:this.handleChangeTypeBus,dataMaterial:u,OptionMaterial:this.OptionMaterial,handleChangeMaterial:this.handleChangeMaterial,removeTarif:this.removeTarif});default:return!1}}}]),t}(u.Component)},38:function(a,e,t){"use strict";function n(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}t.d(e,"a",(function(){return n}))},51:function(a,e,t){"use strict";function n(a,e){(null==e||e>a.length)&&(e=a.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=a[t];return n}function r(a){return function(a){if(Array.isArray(a))return n(a)}(a)||function(a){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}(a)||function(a,e){if(a){if("string"===typeof a)return n(a,e);var t=Object.prototype.toString.call(a).slice(8,-1);return"Object"===t&&a.constructor&&(t=a.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(a,e):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.d(e,"a",(function(){return r}))},76:function(a,e,t){"use strict";t.d(e,"a",(function(){return l}));var n=t(38);function r(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,n)}return t}function l(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?r(Object(t),!0).forEach((function(e){Object(n.a)(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}}}]);
//# sourceMappingURL=17.232d4964.chunk.js.map