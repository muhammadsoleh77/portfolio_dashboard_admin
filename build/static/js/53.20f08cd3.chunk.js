(this.webpackJsonpreactjs_adminlte=this.webpackJsonpreactjs_adminlte||[]).push([[53],{303:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return m}));var n=t(11),s=t(12),l=t(14),r=t(13),i=t(0),c=t.n(i),o=t(37),h=t(33),m=function(e){Object(l.a)(t,e);var a=Object(r.a)(t);function t(e){var s;return Object(n.a)(this,t),(s=a.call(this,e)).MakeOption=function(e){return{value:e.id,label:e.mdrName}},s.handleChangeSelect=function(e){s.setState({selectedChannel:e.value})},s.state={fields:{},errors:{},dataChannel:[],selectedChannel:""},s}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/admin/channel/list").then((function(a){console.log(a),e.setState({dataChannel:a.data})}))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0;return e.mdrName||(t=!1,a.mdrName="Tidak boleh kosong"),e.keterangan||(t=!1,a.keterangan="Tidak boleh kosong"),e.isCashless||(t=!1,a.isCashless="Tidak boleh kosong"),e.isPercentage||(t=!1,a.isPercentage="Tidak boleh kosong"),e.jmlhMdr||(t=!1,a.jmlhMdr="Tidak boleh kosong"),this.setState({errors:a}),t}},{key:"tambahData",value:function(e){var a=this;e.preventDefault();var t={channelId:this.state.selectedChannel,idPo:this.props.match.params.idPo,isCashless:this.state.fields.isCashless,isPercentage:this.state.fields.isPercentage,jmlhMdr:this.state.fields.jmlhMdr,keterangan:this.state.fields.keterangan,mdrName:this.state.fields.mdrName,isValid:!0};console.log(t),this.handleValidation()&&h.a.post("/admin/channel/po/add",t).then((function(e){console.log(e),alert("Berhasil tambah data"),a.props.history.push("/pengaturan/channelPo")}))}},{key:"handleChange",value:function(e,a){var t=this.state.fields;t[e]=a.target.value,this.setState({fields:t})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"content-wrapper"},c.a.createElement("div",{className:"content-header"},c.a.createElement("div",{className:"container-fluid header-fluid"},c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-sm-6"},c.a.createElement("ol",{className:"breadcrumb float-sm-left"},c.a.createElement("li",{className:"breadcrumb-item"},c.a.createElement("a",{href:"# "},c.a.createElement("b",null,"Home"))),c.a.createElement("li",{className:"breadcrumb-item active"},c.a.createElement("b",null,"Tambah Channel P.O"))))))),c.a.createElement("section",{class:"content"},c.a.createElement("div",{class:"container-fluid"},c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col-md-12"},c.a.createElement("div",{class:"card card-primary"},c.a.createElement("div",{class:"card-header"},c.a.createElement("h3",{class:"card-title"},"Tambah Channel P.O")),c.a.createElement("form",{onSubmit:this.tambahData.bind(this)},c.a.createElement("div",{class:"card-body"},c.a.createElement("div",{class:"form-group"},c.a.createElement("label",null,"Pilih Channel"),c.a.createElement(o.a,{name:"channel",placeholder:"Pilih Channel",onChange:this.handleChangeSelect,options:this.state.dataChannel.map((function(a){return e.MakeOption(a)}))})),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",null,"Nama MDR"),c.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange.bind(this,"mdrName")}),c.a.createElement("span",{style:{color:"red"}}," ",this.state.errors.mdrName," ")),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",null,"Keterangan"),c.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange.bind(this,"keterangan")}),c.a.createElement("span",{style:{color:"red"}}," ",this.state.errors.keterangan," ")),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",null,"Cashless"),c.a.createElement("div",{className:"radio"},c.a.createElement("input",{type:"radio",name:"isCashless",value:"true",onChange:this.handleChange.bind(this,"isCashless")})," Ya \xa0\xa0\xa0",c.a.createElement("input",{type:"radio",name:"isCashless",value:"false",onChange:this.handleChange.bind(this,"isCashless")})," Tidak \xa0\xa0\xa0"),c.a.createElement("span",{style:{color:"red"}}," ",this.state.errors.isCashless," ")),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",null,"Presentasi"),c.a.createElement("div",{className:"radio"},c.a.createElement("input",{type:"radio",name:"isPercentage",value:"true",onChange:this.handleChange.bind(this,"isPercentage")})," Ya \xa0\xa0\xa0",c.a.createElement("input",{type:"radio",name:"isPercentage",value:"false",onChange:this.handleChange.bind(this,"isPercentage")})," Tidak \xa0\xa0\xa0"),c.a.createElement("span",{style:{color:"red"}}," ",this.state.errors.isPercentage," ")),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",null,"Jumlah MDR"),c.a.createElement("input",{className:"form-control",type:"number",onChange:this.handleChange.bind(this,"jmlhMdr")}),c.a.createElement("span",{style:{color:"red"}}," ",this.state.errors.jmlhMdr," "))),c.a.createElement("div",{class:"card-footer"},c.a.createElement("button",{type:"submit",class:"btn btn-primary"},"Tambah")))))))))}}]),t}(i.Component)},33:function(e,a,t){"use strict";var n=t(36),s=t.n(n),l=localStorage.getItem("token"),r=s.a.create({baseURL:"http://po.bisku.id:8282",headers:{Authorization:"Bearer "+l}});a.a=r}}]);
//# sourceMappingURL=53.20f08cd3.chunk.js.map