(this.webpackJsonpreactjs_adminlte=this.webpackJsonpreactjs_adminlte||[]).push([[46],{312:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return d}));var n=t(11),i=t(12),l=t(14),r=t(13),s=t(0),o=t.n(s),c=t(37),m=t(33),d=function(e){Object(l.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).OptionPo=function(e){return{value:e.idPo,label:e.nama}},i.handleChangePo=function(e){i.setState({idPo:e.value})},i.OptionJenis=function(e){return{value:e.id,label:e.namaJenis}},i.handleChangeJenis=function(e){i.setState({idJenis:e.value}),m.a.get("/id/co/bisku/payload/sap/customer?group="+e.value).then((function(e){i.setState({dataTypeSap:e.data.data})}))},i.OptionCrew=function(e){return{value:e.NAME,label:e.NAME}},i.handleChangeCrew=function(e){i.setState({name:e.value})},i.OptionNik=function(e){return{value:e.CUSTOMER,label:e.CUSTOMER}},i.handleChangeNik=function(e){i.setState({nik:e.value})},i.state={fields:{},errors:{},dataPo:[],dataTypeSap:[],dataJenis:[{id:"JA",namaJenis:"JAC"},{id:"JR",namaJenis:"JRC"},{id:"JG",namaJenis:"TJR"}]},i}return Object(i.a)(t,[{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0;return e.name||(t=!1,a.name="Tidak boleh kosong"),e.nik||(t=!1,a.nik="Tidak boleh kosong"),this.setState({errors:a}),t}},{key:"handleChange",value:function(e,a){var t=this.state.fields;t[e]=a.target.value,this.setState({fields:t})}},{key:"endpointPo",value:function(){var e=this;m.a.get("/admin/po/getAll").then((function(a){e.setState({dataPo:a.data})}))}},{key:"componentDidMount",value:function(){this.endpointPo()}},{key:"tambahData",value:function(e){var a=this;e.preventDefault();var t={name:this.state.name,nik:this.state.nik,idPo:this.state.idPo,type:this.state.idJenis};m.a.post("/admin/crew/add",t).then((function(e){alert("Berhasil Tambah data Crew"),a.props.history.push("/entitas/crew")})).catch((function(e){alert("Error")}))}},{key:"render",value:function(){var e=this;return console.log(this.props.match.params.idPo),o.a.createElement("div",{className:"content-wrapper"},o.a.createElement("div",{className:"content-header"},o.a.createElement("div",{className:"container-fluid header-fluid"},o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("ol",{className:"breadcrumb float-sm-left"},o.a.createElement("li",{className:"breadcrumb-item"},o.a.createElement("a",{href:"# "},o.a.createElement("b",null,"Home"))),o.a.createElement("li",{className:"breadcrumb-item active"},o.a.createElement("b",null,"Tambah Crew"))))))),o.a.createElement("section",{class:"content"},o.a.createElement("div",{class:"container-fluid"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-md-12"},o.a.createElement("div",{class:"card card-primary"},o.a.createElement("div",{class:"card-header"},o.a.createElement("h3",{class:"card-title"},"Tambah Crew")),o.a.createElement("form",{onSubmit:this.tambahData.bind(this)},o.a.createElement("div",{class:"card-body"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"Pilih P.O"),o.a.createElement(c.a,{name:"po",placeholder:"Pilih P.O",onChange:this.handleChangePo,options:this.state.dataPo.map((function(a){return e.OptionPo(a)}))})),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"Pilih Jenis"),o.a.createElement(c.a,{name:"jenis",placeholder:"Pilih Jenis",onChange:this.handleChangeJenis,options:this.state.dataJenis.map((function(a){return e.OptionJenis(a)}))})),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"Nama Crew"),o.a.createElement(c.a,{name:"crew",placeholder:"Pilih Crew",onChange:this.handleChangeCrew,options:this.state.dataTypeSap.map((function(a){return e.OptionCrew(a)}))})),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"NIK"),o.a.createElement(c.a,{name:"nik",placeholder:"Pilih N.I.K",onChange:this.handleChangeNik,options:this.state.dataTypeSap.map((function(a){return e.OptionNik(a)}))}))),o.a.createElement("div",{class:"card-footer"},o.a.createElement("button",{type:"submit",class:"btn btn-primary"},"Tambah")))))))))}}]),t}(s.Component)},33:function(e,a,t){"use strict";var n=t(36),i=t.n(n),l=localStorage.getItem("token"),r=i.a.create({baseURL:"http://po.bisku.id:8282",headers:{Authorization:"Bearer "+l}});a.a=r}}]);
//# sourceMappingURL=46.25332aaa.chunk.js.map