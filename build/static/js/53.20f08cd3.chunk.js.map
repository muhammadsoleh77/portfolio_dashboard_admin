{"version":3,"sources":["components/Pengaturan/ChannelPo/TambahChannelPo.js","Endpoint.js"],"names":["TambahChannelPo","props","MakeOption","x","value","id","label","mdrName","handleChangeSelect","e","setState","selectedChannel","state","fields","errors","dataChannel","API_ENDPOINT","get","then","res","console","log","data","this","formIsValid","preventDefault","tambahData","channelId","idPo","match","params","isCashless","isPercentage","jmlhMdr","keterangan","isValid","handleValidation","post","alert","history","push","field","target","className","href","class","onSubmit","bind","name","placeholder","onChange","options","map","type","handleChange","style","color","Component","token","localStorage","getItem","instance","axios","create","baseURL","headers"],"mappings":"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","file":"static/js/53.20f08cd3.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport Select from 'react-select'\r\nimport API_ENDPOINT from '../../../Endpoint'\r\n\r\nexport default class TambahChannelPo extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            fields: {},\r\n            errors: {},\r\n\r\n            dataChannel: [],\r\n            selectedChannel: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        API_ENDPOINT.get('/admin/channel/list')\r\n        .then(res => {\r\n            console.log(res);            \r\n            this.setState({\r\n                dataChannel: res.data\r\n            })\r\n        })\r\n    }\r\n\r\n    // dropdownChangedPO(e){\r\n    //     this.setState({selectedIdPO: e.target.value});       \r\n    // }\r\n\r\n    handleValidation() {\r\n        let fields = this.state.fields;\r\n        let errors = {};\r\n        let formIsValid = true;\r\n\r\n        // // Validasi channel\r\n        // if (!fields[\"channelId\"]) {\r\n        //     formIsValid = false;\r\n        //     errors[\"channelId\"] = \"Tidak boleh kosong\";\r\n        // }\r\n\r\n        // Validasi mdrName\r\n        if (!fields[\"mdrName\"]) {\r\n            formIsValid = false;\r\n            errors[\"mdrName\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        // Validasi keterangan\r\n        if (!fields[\"keterangan\"]) {\r\n            formIsValid = false;\r\n            errors[\"keterangan\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        // Validasi isCashless\r\n        if (!fields[\"isCashless\"]) {\r\n            formIsValid = false;\r\n            errors[\"isCashless\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        // Validasi isPercentage\r\n        if (!fields[\"isPercentage\"]) {\r\n            formIsValid = false;\r\n            errors[\"isPercentage\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        // Validasi jmlhMdr\r\n        if (!fields[\"jmlhMdr\"]) {\r\n            formIsValid = false;\r\n            errors[\"jmlhMdr\"] = \"Tidak boleh kosong\";\r\n        }\r\n\r\n        this.setState({ errors: errors });\r\n        return formIsValid;\r\n\r\n    }\r\n\r\n    MakeOption = (x) => {\r\n        return {value: x.id, label: x.mdrName}\r\n    }\r\n\r\n    handleChangeSelect = (e) => {\r\n        this.setState({selectedChannel: e.value})\r\n    }\r\n\r\n    tambahData(e) {\r\n        e.preventDefault();\r\n\r\n        // console.log(this);\r\n\r\n        const tambahData = {\r\n            channelId: this.state.selectedChannel,\r\n            idPo: this.props.match.params.idPo,\r\n            isCashless: this.state.fields['isCashless'],\r\n            isPercentage: this.state.fields['isPercentage'],\r\n            jmlhMdr: this.state.fields['jmlhMdr'],\r\n            keterangan: this.state.fields['keterangan'],\r\n            mdrName: this.state.fields['mdrName'],\r\n            isValid: true\r\n        }\r\n        console.log(tambahData);\r\n\r\n        if (this.handleValidation()) {\r\n            API_ENDPOINT.post('/admin/channel/po/add', tambahData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    alert(\"Berhasil tambah data\");\r\n                    this.props.history.push('/pengaturan/channelPo')\r\n                })\r\n        }\r\n        // else{\r\n        //     alert(\"Error, terjadi kesalahan\");\r\n        // }\r\n\r\n    }\r\n\r\n    handleChange(field, e) {\r\n        let fields = this.state.fields;\r\n        fields[field] = e.target.value;\r\n        this.setState({ fields });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"content-wrapper\">\r\n                <div className=\"content-header\">\r\n                    <div className=\"container-fluid header-fluid\">\r\n                        <div className=\"row mb-2\">\r\n                            <div className=\"col-sm-6\">\r\n                                <ol className=\"breadcrumb float-sm-left\">\r\n                                    <li className=\"breadcrumb-item\"><a href=\"# \"><b>Home</b></a></li>\r\n                                    <li className=\"breadcrumb-item active\"><b>Tambah Channel P.O</b></li>\r\n                                </ol>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <section class=\"content\">\r\n                    <div class=\"container-fluid\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12\">\r\n                                <div class=\"card card-primary\">\r\n                                    <div class=\"card-header\">\r\n                                        <h3 class=\"card-title\">Tambah Channel P.O</h3>\r\n                                    </div>\r\n                                    <form onSubmit={this.tambahData.bind(this)}>\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"form-group\">\r\n                                                <label>Pilih Channel</label>\r\n                                                <Select\r\n                                                    name=\"channel\"\r\n                                                    placeholder=\"Pilih Channel\"\r\n                                                    onChange={this.handleChangeSelect}\r\n                                                    options={this.state.dataChannel.map(x => this.MakeOption(x))}\r\n                                                />\r\n                                                {/* <select class=\"form-control\" value={this.state.selectedIdPO} onChange={this.handleChange.bind(this, \"channelId\")} style={{ width: '100%' }}>\r\n                                                    <option disabled selected>Pilih Channel</option>\r\n                                                    {\r\n                                                        this.state.dataChannel.map((el) => {\r\n                                                            return (\r\n                                                                <option key={el.id} value={el.id}>{el.mdrName}</option>\r\n                                                            )\r\n                                                        })\r\n                                                    }\r\n                                                </select><br /> */}\r\n                                                {/* <span style={{ color: 'red' }}> {this.state.errors[\"channelId\"]} </span> */}\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Nama MDR</label>\r\n                                                <input className=\"form-control\" type=\"text\" onChange={this.handleChange.bind(this, \"mdrName\")} />\r\n                                                <span style={{ color: 'red' }}> {this.state.errors[\"mdrName\"]} </span>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Keterangan</label>\r\n                                                <input className=\"form-control\" type=\"text\" onChange={this.handleChange.bind(this, \"keterangan\")} />\r\n                                                <span style={{ color: 'red' }}> {this.state.errors[\"keterangan\"]} </span>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Cashless</label>\r\n                                                <div className=\"radio\">\r\n                                                    <input\r\n                                                        type=\"radio\"\r\n                                                        name=\"isCashless\" \r\n                                                        value=\"true\"\r\n                                                        // checked={isCashless === true}\r\n                                                        onChange={this.handleChange.bind(this, \"isCashless\")} /> Ya &nbsp;&nbsp;&nbsp;\r\n                                                    <input\r\n                                                        type=\"radio\"\r\n                                                        name=\"isCashless\" \r\n                                                        value=\"false\"\r\n                                                        // checked={isCashless === false}\r\n                                                        onChange={this.handleChange.bind(this, \"isCashless\")} /> Tidak &nbsp;&nbsp;&nbsp;\r\n                                                </div>\r\n                                                <span style={{color:'red'}}> {this.state.errors[\"isCashless\"]} </span>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Presentasi</label>\r\n                                                <div className=\"radio\">\r\n                                                    <input\r\n                                                        type=\"radio\"\r\n                                                        name=\"isPercentage\" \r\n                                                        value=\"true\"\r\n                                                        //   checked={isPublished === true}\r\n                                                        onChange={this.handleChange.bind(this, \"isPercentage\")} /> Ya &nbsp;&nbsp;&nbsp;\r\n                                                    <input\r\n                                                        type=\"radio\"\r\n                                                        name=\"isPercentage\" \r\n                                                        value=\"false\"\r\n                                                        //   checked={isPublished === true}\r\n                                                        onChange={this.handleChange.bind(this, \"isPercentage\")} /> Tidak &nbsp;&nbsp;&nbsp;\r\n                                                </div>\r\n                                                <span style={{color:'red'}}> {this.state.errors[\"isPercentage\"]} </span>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label>Jumlah MDR</label>\r\n                                                <input className=\"form-control\" type=\"number\" onChange={this.handleChange.bind(this, \"jmlhMdr\")} />\r\n                                                <span style={{ color: 'red' }}> {this.state.errors[\"jmlhMdr\"]} </span>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div class=\"card-footer\">\r\n                                            <button type=\"submit\" class=\"btn btn-primary\">Tambah</button>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import axios from 'axios'\r\n\r\nconst token = localStorage.getItem(\"token\")\r\n\r\nconst instance = axios.create({\r\n    // SERVICE DEV\r\n    // baseURL: 'http://52.163.218.136:8282',\r\n\r\n    // SERVICE LIVE\r\n    baseURL: 'http://po.bisku.id:8282',\r\n\r\n    // SERVIVE MNC\r\n    // baseURL: 'http://192.168.1.7:8282',\r\n\r\n    // SERVICE BASEMENT\r\n    // baseURL: 'http://192.168.0.185:8282',\r\n    headers: {\r\n        // \"access-control-allow-origin\" : \"*\",\r\n        'Authorization': \"Bearer \" + token\r\n    }\r\n});\r\n\r\nexport default instance;\r\n"],"sourceRoot":""}